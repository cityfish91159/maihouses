
[1m[46m RUN [49m[22m [36mv4.0.16 [39m[90mC:/Users/陳世瑜/maihouses[39m

 [32m✓[39m api/trust/__tests__/wake.test.ts [2m([22m[2m40 tests[22m[2m)[22m[33m 1359[2mms[22m[39m
     [33m[2m✓[22m[39m 1. OPTIONS 回傳 200 [33m 794[2mms[22m[39m
 [32m✓[39m src/pages/Chat/__tests__/MessageInput.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 2618[2mms[22m[39m
     [33m[2m✓[22m[39m sends message on button click [33m 1110[2mms[22m[39m
     [33m[2m✓[22m[39m sends message on Enter [33m 308[2mms[22m[39m
     [33m[2m✓[22m[39m does not send when input is empty [33m 316[2mms[22m[39m
     [33m[2m✓[22m[39m shows toast on send failure [33m 508[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useNotifications.test.ts [2m([22m[2m14 tests[22m[2m)[22m[33m 4340[2mms[22m[39m
       [33m[2m✓[22m[39m should set error state when fetch fails [33m 3228[2mms[22m[39m
 [32m✓[39m src/pages/Community/components/__tests__/QASection.virtualization.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 2933[2mms[22m[39m
       [33m[2m✓[22m[39m 少於等於 10 個問題時，不啟用虛擬化（無 data-testid="virtualized-container"） [33m 316[2mms[22m[39m
       [33m[2m✓[22m[39m 非虛擬化列表應正確傳遞 onAnswer prop，按鈕可點擊 [33m 972[2mms[22m[39m
       [33m[2m✓[22m[39m 非虛擬化列表應正確傳遞 isAnswering 狀態 [33m 463[2mms[22m[39m
       [33m[2m✓[22m[39m 點擊回答按鈕後，activeQuestion 應正確設定 [33m 322[2mms[22m[39m
[90mstderr[2m | src/pages/UAG/index.test.tsx[2m > [22m[2mUAGPage[2m > [22m[2mrenders radar layout and default action panel
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m api/trust/__tests__/send-notification.test.ts [2m([22m[2m31 tests[22m[2m)[22m[33m 11171[2mms[22m[39m
       [33m[2m✓[22m[39m 無效的 caseId 格式應返回失敗 [33m 2443[2mms[22m[39m
       [33m[2m✓[22m[39m 410 Gone 時應刪除過期訂閱 [33m 1082[2mms[22m[39m
       [33m[2m✓[22m[39m LINE 成功應返回 channel: line [33m 506[2mms[22m[39m
       [33m[2m✓[22m[39m LINE 失敗 → 重試成功應返回 retried: true [33m 1025[2mms[22m[39m
       [33m[2m✓[22m[39m LINE 失敗 → 重試失敗應記錄日誌並返回失敗 [33m 1028[2mms[22m[39m
       [33m[2m✓[22m[39m Push 失敗 → 重試失敗 → LINE 降級成功 [33m 1032[2mms[22m[39m
       [33m[2m✓[22m[39m Push 失敗 → 重試失敗 → LINE 降級也失敗 [33m 1067[2mms[22m[39m
       [33m[2m✓[22m[39m Push 失敗 → 重試失敗 → 無 LINE ID 可降級 [33m 1019[2mms[22m[39m
       [33m[2m✓[22m[39m Push 失敗 → 重試成功 [33m 1121[2mms[22m[39m
       [33m[2m✓[22m[39m 應正確生成步驟更新訊息並發送 [33m 537[2mms[22m[39m
 [31m❯[39m api/trust/__tests__/cases.handler.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 12506[2mms[22m[39m
     [33m[2m✓[22m[39m GET /api/trust/cases - unauthorized returns 401 [33m 1595[2mms[22m[39m
     [32m✓[39m GET /api/trust/cases - buyer role returns 403[32m 18[2mms[22m[39m
     [32m✓[39m GET /api/trust/cases - success returns 200[32m 20[2mms[22m[39m
[31m     [31m×[31m GET /api/trust/cases/[id] - accepts step=0 event[39m[33m 10314[2mms[22m[39m
     [33m[2m✓[22m[39m GET /api/trust/cases/[id] - buyer role returns 403 [33m 497[2mms[22m[39m
     [32m✓[39m PATCH /api/trust/cases/[id] - sync throw in notification does not break response[32m 34[2mms[22m[39m
     [32m✓[39m PATCH /api/trust/cases/[id] - race condition returns 400[32m 18[2mms[22m[39m
 [32m✓[39m src/pages/UAG/index.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 3944[2mms[22m[39m
     [33m[2m✓[22m[39m renders radar layout and default action panel [33m 942[2mms[22m[39m
     [33m[2m✓[22m[39m allows selecting and purchasing a lead [33m 2997[2mms[22m[39m
 [32m✓[39m api/line/__tests__/webhook-my-cases.test.ts [2m([22m[2m9 tests[22m[2m)[22m[33m 1463[2mms[22m[39m
       [33m[2m✓[22m[39m 「我的交易」觸發查詢並回覆 [33m 1312[2mms[22m[39m
 [32m✓[39m src/pages/Community/components/__tests__/QASection.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1893[2mms[22m[39m
     [33m[2m✓[22m[39m focuses textarea, locks scroll, and closes on Escape [33m 438[2mms[22m[39m
     [33m[2m✓[22m[39m auto clears feedback after submit success [33m 1223[2mms[22m[39m
 [32m✓[39m src/components/layout/__tests__/NotificationDropdown.test.tsx [2m([22m[2m26 tests[22m[2m)[22m[33m 2308[2mms[22m[39m
       [33m[2m✓[22m[39m should call onNotificationClick when notification is clicked [33m 1020[2mms[22m[39m
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at updateFunctionComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at updateFunctionComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:19617:20)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21640:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
Error: Test error from child component
    at ThrowError (C:/Users/陳世瑜/maihouses/src/components/layout/__tests__/NotificationErrorBoundary.test.tsx:20:11)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:243:9)
    at HTMLUnknownElementImpl.dispatchEvent (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:114:17)
 [32m✓[39m src/components/layout/__tests__/NotificationErrorBoundary.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[33m 1559[2mms[22m[39m
       [33m[2m✓[22m[39m should reset error state on retry click [33m 748[2mms[22m[39m
[90mstderr[2m | src/components/Feed/__tests__/TxBanner.test.tsx[2m > [22m[2mTxBanner - MSG-3 私訊提醒橫幅[2m > [22m[2m1. 顯示私訊通知橫幅（有完整資訊）
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/components/Feed/__tests__/TxBanner.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 1141[2mms[22m[39m
     [33m[2m✓[22m[39m 1. 顯示私訊通知橫幅（有完整資訊） [33m 769[2mms[22m[39m
 [32m✓[39m src/components/upload/__tests__/TrustToggleSection.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 1088[2mms[22m[39m
     [33m[2m✓[22m[39m renders with correct initial state (off) [33m 805[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useCommunityWallData.mock.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 1573[2mms[22m[39m
     [33m[2m✓[22m[39m increments and decrements likes per user intent instead of total likes [33m 640[2mms[22m[39m
     [33m[2m✓[22m[39m resets likedPosts intent when switching between mock and API modes [33m 642[2mms[22m[39m
[90mstderr[2m | src/components/Feed/__tests__/AgentSidebar.test.tsx[2m > [22m[2mAgentSidebar[2m > [22m[2mrenders navigation links with correct ROUTES
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/components/Feed/__tests__/AgentSidebar.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1540[2mms[22m[39m
     [33m[2m✓[22m[39m renders navigation links with correct ROUTES [33m 1338[2mms[22m[39m
[90mstderr[2m | src/pages/Feed/__tests__/P7_ScenarioVerification.test.tsx[2m > [22m[2mP7 Scenario Verification (L7+ Standard)[2m > [22m[2mScenario 1: Viewer is Guest
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/components/__tests__/TrustServiceBanner.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 4767[2mms[22m[39m
     [33m[2m✓[22m[39m 應該在 trustEnabled=true 時顯示已開啟狀態 [33m 1387[2mms[22m[39m
     [33m[2m✓[22m[39m 應該在點擊「了解更多」時呼叫 onLearnMore 回調 [33m 376[2mms[22m[39m
     [33m[2m✓[22m[39m 應該在點擊「要求房仲開啟」時呼叫 onRequestEnable 回調 [33m 548[2mms[22m[39m
     [33m[2m✓[22m[39m 應該在 onLearnMore 為 undefined 時不拋出錯誤 [33m 789[2mms[22m[39m
     [33m[2m✓[22m[39m 應該在 onRequestEnable 為 undefined 時不拋出錯誤 [33m 303[2mms[22m[39m
     [33m[2m✓[22m[39m 應該支援鍵盤操作 (Enter) [33m 548[2mms[22m[39m
     [33m[2m✓[22m[39m 應該支援鍵盤操作 (Space) [33m 351[2mms[22m[39m
 [32m✓[39m src/pages/Feed/__tests__/P7_ScenarioVerification.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 2681[2mms[22m[39m
     [33m[2m✓[22m[39m Scenario 1: Viewer is Guest [33m 2242[2mms[22m[39m
[90mstderr[2m | src/pages/Feed/__tests__/FeedRouting.test.tsx[2m > [22m[2mFEED-2: Mock/API Routing Verification[2m > [22m[2mScenario 1: Demo Mock (Demo IDs)[2m > [22m[2m使用 demo-001 ID 應該啟用 Mock 模式
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/pages/Feed/__tests__/FeedRouting.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 1695[2mms[22m[39m
       [33m[2m✓[22m[39m 使用 demo-001 ID 應該啟用 Mock 模式 [33m 701[2mms[22m[39m
       [33m[2m✓[22m[39m 使用 demo-agent ID 應該啟用 Mock 模式 [33m 372[2mms[22m[39m
[90mstderr[2m | src/pages/UAG/components/UAGHeader.test.tsx[2m > [22m[2mUAGHeader[2m > [22m[2m顯示返回首頁連結
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/pages/UAG/components/UAGHeader.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 1363[2mms[22m[39m
     [33m[2m✓[22m[39m 點擊頭像打開選單 [33m 1005[2mms[22m[39m
[90mstderr[2m | src/components/Feed/__tests__/AgentProfileCard.test.tsx[2m > [22m[2mAgentProfileCard[2m > [22m[2mrenders profile info and stats
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/components/Feed/__tests__/AgentProfileCard.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 1252[2mms[22m[39m
     [33m[2m✓[22m[39m renders profile info and stats [33m 305[2mms[22m[39m
     [33m[2m✓[22m[39m renders links correctly with ROUTES [33m 941[2mms[22m[39m
[90mstdout[2m | src/pages/Feed/__tests__/useConsumer.test.ts[2m > [22m[2museConsumer[2m > [22m[2mshould handle reply as no-op (P6 Phase 1: UI handles toggle)
[22m[39m[2026-01-27T04:55:46.972Z] [DEBUG] [Consumer] Reply toggled for post {"postId":"1"}

 [32m✓[39m src/pages/Feed/__tests__/useConsumer.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 929[2mms[22m[39m
     [33m[2m✓[22m[39m should return default values [33m 596[2mms[22m[39m
 [32m✓[39m src/components/MaiMai/__tests__/MaiMaiSpeech.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 1169[2mms[22m[39m
     [33m[2m✓[22m[39m shows only the last three messages with correct styles and accessibility [33m 1162[2mms[22m[39m
 [32m✓[39m api/trust/__tests__/my-cases.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 1001[2mms[22m[39m
     [33m[2m✓[22m[39m OPTIONS 回傳 200 [33m 520[2mms[22m[39m
 [32m✓[39m src/pages/UAG/components/__tests__/AssetMonitor-buttons.test.tsx [2m([22m[2m18 tests[22m[2m)[22m[33m 1139[2mms[22m[39m
 [32m✓[39m src/components/Feed/__tests__/RoleToggle.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 951[2mms[22m[39m
     [33m[2m✓[22m[39m calls onToggle when clicked [33m 780[2mms[22m[39m
 [32m✓[39m src/dev/__tests__/maimai-story.smoke.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 581[2mms[22m[39m
     [33m[2m✓[22m[39m renders controls and both MaiMai variants [33m 575[2mms[22m[39m
 [32m✓[39m api/trust/services/__tests__/case-query.test.ts [2m([22m[2m19 tests[22m[2m)[22m[33m 997[2mms[22m[39m
     [33m[2m✓[22m[39m 有效的 LINE ID 回傳案件列表 [33m 667[2mms[22m[39m
 [32m✓[39m api/trust/__tests__/close.test.ts [2m([22m[2m23 tests[22m[2m)[22m[33m 952[2mms[22m[39m
     [33m[2m✓[22m[39m OPTIONS 回傳 200 [33m 624[2mms[22m[39m
 [32m✓[39m api/trust/__tests__/notify.test.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 830[2mms[22m[39m
       [33m[2m✓[22m[39m 無效的 caseId 格式應拋出錯誤 [33m 600[2mms[22m[39m
[90mstderr[2m | src/pages/Feed/__tests__/FeedIntegration.test.tsx[2m > [22m[2mFeed Integration & Routing Flow[2m > [22m[2mFlow 1: Agent Identification (Real User)
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/pages/Feed/__tests__/FeedIntegration.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 800[2mms[22m[39m
     [33m[2m✓[22m[39m Flow 1: Agent Identification (Real User) [33m 309[2mms[22m[39m
 [32m✓[39m src/dev/__tests__/maimai-story.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 681[2mms[22m[39m
     [33m[2m✓[22m[39m renders controls and both MaiMai variants [33m 675[2mms[22m[39m
 [32m✓[39m src/pages/Chat/__tests__/MessageList.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 464[2mms[22m[39m
[90mstderr[2m | src/components/Feed/__tests__/FeedPostCard.test.tsx[2m > [22m[2mFeedPostCard[2m > [22m[2mcalls onLike when like button is clicked
[22m[39mWarning: An update to FeedPostCard2 inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at FeedPostCard2 (C:/Users/陳世瑜/maihouses/src/components/Feed/FeedPostCard.tsx:128:3)

 [32m✓[39m src/components/Feed/__tests__/FeedPostCard.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 410[2mms[22m[39m
[90mstderr[2m | src/components/MaiMai/__tests__/MascotInteractive.test.tsx[2m > [22m[2mMascotInteractive confetti edge trigger[2m > [22m[2mfires confetti only on mood edge and respects cooldown
[22m[39mWarning: An update to MascotInteractive inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at MascotInteractive (C:/Users/陳世瑜/maihouses/src/components/MascotInteractive.tsx:9:9)

 [32m✓[39m src/components/MaiMai/__tests__/MascotInteractive.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 274[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/usePropertyDraft.test.ts [2m([22m[2m14 tests[22m[2m)[22m[32m 262[2mms[22m[39m
 [32m✓[39m api/community/__tests__/wall.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 356[2mms[22m[39m
 [32m✓[39m src/pages/UAG/hooks/__tests__/useUAG.test.ts [2m([22m[2m39 tests[22m[2m)[22m[32m 277[2mms[22m[39m
 [32m✓[39m src/pages/Feed/__tests__/Agent.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 206[2mms[22m[39m
 [32m✓[39m src/pages/Feed/__tests__/Consumer.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 261[2mms[22m[39m
 [32m✓[39m src/components/MaiMai/__tests__/useMaiMaiMood.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 235[2mms[22m[39m
Error: useMaiMai must be used within MaiMaiProvider
    at Module.useMaiMai (C:/Users/陳世瑜/maihouses/src/context/MaiMaiContext.tsx:140:11)
    at C:/Users/陳世瑜/maihouses/src/context/__tests__/MaiMaiContext.test.tsx:34:26
    at TestComponent (C:\Users\陳世瑜\maihouses\node_modules\@testing-library\react\dist\pure.js:330:27)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
Error: useMaiMai must be used within MaiMaiProvider
    at Module.useMaiMai (C:/Users/陳世瑜/maihouses/src/context/MaiMaiContext.tsx:140:11)
    at C:/Users/陳世瑜/maihouses/src/context/__tests__/MaiMaiContext.test.tsx:34:26
    at TestComponent (C:\Users\陳世瑜\maihouses\node_modules\@testing-library\react\dist\pure.js:330:27)
    at renderWithHooks (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:15486:18)
    at mountIndeterminateComponent (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:20103:13)
    at beginWork (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (C:\Users\陳世瑜\maihouses\node_modules\react-dom\cjs\react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\generated\EventListener.js:26:30)
    at innerInvokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:360:16)
    at invokeEventListeners (C:\Users\陳世瑜\maihouses\node_modules\jsdom\lib\jsdom\living\events\EventTarget-impl.js:296:3)
 [32m✓[39m src/pages/Chat/__tests__/ChatHeader.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[32m 230[2mms[22m[39m
 [32m✓[39m src/context/__tests__/MaiMaiContext.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[32m 258[2mms[22m[39m
 [32m✓[39m src/components/__tests__/TrustBadge.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 365[2mms[22m[39m
 [32m✓[39m src/components/Feed/__tests__/InlineComposer.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 308[2mms[22m[39m
 [32m✓[39m src/features/home/sections/__tests__/CommunityTeaser.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 409[2mms[22m[39m
[90mstderr[2m | src/pages/Home.test.tsx[2m > [22m[2mHome Page[2m > [22m[2mrenders all main sections when features are enabled
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

[90mstderr[2m | src/pages/Home.test.tsx[2m > [22m[2mHome Page[2m > [22m[2mrenders all main sections when features are enabled
[22m[39m[2026-01-27T04:56:38.555Z] [ERROR] [propertyService] getFeaturedProperties 失敗 {"error":{}}

 [32m✓[39m src/pages/Home.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 225[2mms[22m[39m
 [32m✓[39m src/components/UAG/__tests__/SendMessageModal-debounce.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 380[2mms[22m[39m
 [32m✓[39m src/components/upload/__tests__/UploadContext.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 345[2mms[22m[39m
     [33m[2m✓[22m[39m validates, optimizes, and stores image URLs [33m 339[2mms[22m[39m
 [32m✓[39m src/components/MaiMai/__tests__/MaiMaiBase.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 442[2mms[22m[39m
     [33m[2m✓[22m[39m updates mood immediately and applies fade-in animation [33m 436[2mms[22m[39m
[90mstderr[2m | src/components/Feed/__tests__/UagSummaryCard.test.tsx[2m > [22m[2mUagSummaryCard[2m > [22m[2mrenders correct grade and growth
[22m[39m⚠️ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
⚠️ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 [32m✓[39m src/components/Feed/__tests__/UagSummaryCard.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 255[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useConsumerSession.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 184[2mms[22m[39m
 [32m✓[39m api/property/__tests__/enable-trust.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 276[2mms[22m[39m
 [32m✓[39m api/property/__tests__/page-data.test.ts [2m([22m[2m37 tests[22m[2m)[22m[32m 193[2mms[22m[39m
 [32m✓[39m src/pages/UAG/services/__tests__/uagService.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 102[2mms[22m[39m
 [32m✓[39m src/components/MaiMai/MaiMai.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 91[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useTutorial.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 161[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useCommunityWallData.converters.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 139[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useCommunityWallQuery.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[32m 216[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/usePermission.test.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 141[2mms[22m[39m
 [32m✓[39m api/home/__tests__/featured-properties.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 144[2mms[22m[39m
[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache Functions[2m > [22m[2mclearProfileCache should reset cache size to 0
[22m[39m[2026-01-27T04:57:20.853Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache Functions[2m > [22m[2mclearProfileCache should reset cache size to 0
[22m[39m[2026-01-27T04:57:20.856Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache Functions[2m > [22m[2mgetProfileCacheSize should return current size
[22m[39m[2026-01-27T04:57:20.857Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache Functions[2m > [22m[2mgetProfileCacheStats should return stats object
[22m[39m[2026-01-27T04:57:20.858Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache capacity protection (P4 fix)[2m > [22m[2mcache should not exceed max size constant
[22m[39m[2026-01-27T04:57:20.862Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache capacity protection (P4 fix)[2m > [22m[2mgetProfileCacheStats should report correct max size
[22m[39m[2026-01-27T04:57:20.863Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache capacity protection (P4 fix)[2m > [22m[2mclearProfileCache should work after operations
[22m[39m[2026-01-27T04:57:20.864Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

[90mstdout[2m | src/hooks/feed/__tests__/feedUtils.test.ts[2m > [22m[2mCache capacity protection (P4 fix)[2m > [22m[2mclearProfileCache should work after operations
[22m[39m[2026-01-27T04:57:20.864Z] [DEBUG] [feedUtils] Profile cache cleared {"previousSize":0}

 [32m✓[39m src/hooks/feed/__tests__/feedUtils.test.ts [2m([22m[2m67 tests[22m[2m)[22m[32m 131[2mms[22m[39m
 [32m✓[39m src/types/__tests__/trust-flow.types.test.ts [2m([22m[2m49 tests[22m[2m)[22m[32m 99[2mms[22m[39m
 [32m✓[39m src/components/auth/__tests__/Guard.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[32m 140[2mms[22m[39m
 [32m✓[39m api/trust/__tests__/cases.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32m✓[39m src/pages/Feed/__tests__/useAgentFeed.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 125[2mms[22m[39m
 [32m✓[39m src/pages/UAG/__tests__/purchaseLead.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32m✓[39m api/trust/__tests__/legacy-apis.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 34[2mms[22m[39m
 [32m✓[39m src/services/__tests__/communityService.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 17[2mms[22m[39m
[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - HTTP 錯誤[2m > [22m[2mresponse.ok 為 false 時，回傳空陣列
[22m[39m[2026-01-27T04:57:35.665Z] [WARN] [propertyService] API 回應非 200 {"status":500}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - HTTP 錯誤[2m > [22m[2mHTTP 404 時，回傳空陣列
[22m[39m[2026-01-27T04:57:35.669Z] [WARN] [propertyService] API 回應非 200 {"status":404}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - JSON 格式錯誤[2m > [22m[2mjson.success 為 false 時，回傳空陣列
[22m[39m[2026-01-27T04:57:35.671Z] [WARN] [propertyService] API 回傳格式錯誤 {"json":{"success":false,"error":"DB Error"}}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - JSON 格式錯誤[2m > [22m[2mjson.data 不是陣列時，回傳空陣列
[22m[39m[2026-01-27T04:57:35.671Z] [WARN] [propertyService] API 回傳格式錯誤 {"json":{"success":true,"data":"not an array"}}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - JSON 格式錯誤[2m > [22m[2mjson.data 為 null 時，回傳空陣列
[22m[39m[2026-01-27T04:57:35.672Z] [WARN] [propertyService] API 回傳格式錯誤 {"json":{"success":true,"data":null}}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - 網路錯誤[2m > [22m[2mfetch 拋出錯誤時 (斷網)，回傳空陣列
[22m[39m[2026-01-27T04:57:35.673Z] [ERROR] [propertyService] getFeaturedProperties 失敗 {"error":{}}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m失敗情境 - 網路錯誤[2m > [22m[2mfetch timeout 時，回傳空陣列
[22m[39m[2026-01-27T04:57:35.674Z] [ERROR] [propertyService] getFeaturedProperties 失敗 {"error":{}}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m三層容錯機制驗證[2m > [22m[2mLevel 2: response.ok=false → 回傳空陣列 (觸發前端 Mock)
[22m[39m[2026-01-27T04:57:35.676Z] [WARN] [propertyService] API 回應非 200 {"status":500}

[90mstderr[2m | src/services/__tests__/propertyService.test.ts[2m > [22m[2mpropertyService - getFeaturedProperties[2m > [22m[2m三層容錯機制驗證[2m > [22m[2mLevel 3: 網路斷線 → 回傳空陣列 (觸發前端 Mock)
[22m[39m[2026-01-27T04:57:35.676Z] [ERROR] [propertyService] getFeaturedProperties 失敗 {"error":{}}

 [32m✓[39m src/services/__tests__/propertyService.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 39[2mms[22m[39m
 [32m✓[39m src/components/upload/__tests__/uploadReducer.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 90[2mms[22m[39m
 [32m✓[39m src/lib/__tests__/parse591.test.ts [2m([22m[2m58 tests[22m[2m)[22m[32m 43[2mms[22m[39m
 [32m✓[39m api/community/__tests__/post.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 184[2mms[22m[39m
 [32m✓[39m api/uag/__tests__/send-message.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 3445[2mms[22m[39m
     [33m[2m✓[22m[39m 應該正確建立 ConnectTokenPayload 包含 propertyId [33m 3434[2mms[22m[39m
 [32m✓[39m api/lib/__tests__/apiResponse.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 139[2mms[22m[39m
 [32m✓[39m src/pages/Chat/__tests__/Chat.test.tsx [2m([22m[2m17 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32m✓[39m api/uag/__tests__/send-message-resilience.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 20[2mms[22m[39m
 [32m✓[39m api/uag/__tests__/send-message-line-integration.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 41[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useFeedData.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 29[2mms[22m[39m
 [32m✓[39m api/line/__tests__/webhook-unfollow.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 25[2mms[22m[39m
 [32m✓[39m src/pages/UAG/components/__tests__/ActionPanel-text.test.tsx [2m([22m[2m24 tests[22m[2m)[22m[32m 23[2mms[22m[39m
 [32m✓[39m src/pages/Chat/__tests__/Connect.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[32m 27[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/useComments.raceCondition.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 40[2mms[22m[39m
 [32m✓[39m api/line/formatters/__tests__/my-cases-formatter.test.ts [2m([22m[2m19 tests[22m[2m)[22m[32m 136[2mms[22m[39m
[90mstdout[2m | api/uag/__tests__/send-message-blocked.test.ts[2m > [22m[2m測3：封鎖 OA 處理邏輯[2m > [22m[2mBlocked 狀態處理（L367-380）[2m > [22m[2mlineBinding.line_status === 'blocked' 時，應回傳 lineStatus: 'unreachable'
[22m[39m[Mock] Update purchase test-purchase-123 to unreachable

 [32m✓[39m api/uag/__tests__/send-message-blocked.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 24[2mms[22m[39m
 [32m✓[39m src/pages/UAG/__tests__/leadTypeGuards.test.ts [2m([22m[2m17 tests[22m[2m)[22m[32m 30[2mms[22m[39m
 [32m✓[39m src/hooks/__tests__/communityWallConverters.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 21[2mms[22m[39m
 [32m✓[39m src/pages/Feed/__tests__/P6_Refactor.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32m✓[39m src/lib/__tests__/tagUtils.test.ts [2m([22m[2m32 tests[22m[2m)[22m[32m 19[2mms[22m[39m
 [32m✓[39m src/pages/__tests__/PropertyDetailPage.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[32m 17[2mms[22m[39m
 [32m✓[39m api/__tests__/session-recovery.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 18[2mms[22m[39m
 [32m✓[39m src/utils/__tests__/keyCapsules.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 15[2mms[22m[39m
 [32m✓[39m api/uag/__tests__/send-message-test2.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32m✓[39m src/lib/query.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 14[2mms[22m[39m
 [32m✓[39m src/types/__tests__/property-page.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 36[2mms[22m[39m
 [32m✓[39m src/utils/__tests__/date.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 11[2mms[22m[39m

[31m⎯⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Tests 1 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m

[41m[1m FAIL [22m[49m api/trust/__tests__/cases.handler.test.ts[2m > [22mBE-5 Real Handler Tests[2m > [22mGET /api/trust/cases/[id] - accepts step=0 event
[31m[1mError[22m: Test timed out in 10000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
[36m [2m❯[22m api/trust/__tests__/cases.handler.test.ts:[2m93:3[22m[39m
    [90m 91| [39m  })[33m;[39m
    [90m 92| [39m
    [90m 93| [39m  it("GET /api/trust/cases/[id] - accepts step=0 event", { timeout: 10…
    [90m   | [39m  [31m^[39m
    [90m 94| [39m    [35mconst[39m mockRpc [33m=[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m({
    [90m 95| [39m      data[33m:[39m {

[31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m94 passed[39m[22m[90m (95)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m1309 passed[39m[22m[90m (1310)[39m
[2m   Start at [22m 12:54:44
[2m   Duration [22m 218.86s[2m (transform 95.23s, setup 97.96s, import 203.10s, tests 85.99s, environment 851.96s)[22m

