â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ğŸ¨ AI é¡è‰²å›å¡«æ¨¡çµ„ - å¿«é€Ÿåƒè€ƒå¡                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ æª”æ¡ˆä½ç½®
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å‰ç«¯:  /workspaces/maihouses/public/tools/cake-reveal/ai-color-recolor-m.html
API:   /workspaces/maihouses/api/
  â”œâ”€ openai-proxy.js       â†’ OpenAI GPT-4 Vision åˆ†æ
  â”œâ”€ replicate-detect.js   â†’ Replicate ç‰©é«”æª¢æ¸¬ (GroundingDINO)
  â”œâ”€ replicate-generate.js â†’ Replicate åœ–åƒç”Ÿæˆ (Flux)
  â””â”€ upload-imgix.js       â†’ imgix + S3 åœ–ç‰‡ä¸Šå‚³

æ–‡ä»¶:  /workspaces/maihouses/AI_COLOR_RECOLOR_API_GUIDE.txt (å®Œæ•´æŒ‡å—)
æ¸¬è©¦:  /workspaces/maihouses/test-ai-recolor-apis.sh (è‡ªå‹•æ¸¬è©¦è…³æœ¬)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”‘ å¿…è¦ç’°å¢ƒè®Šæ•¸ (.env.local æˆ– Vercel)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OPENAI_API_KEY=sk-proj-xxxxx...
REPLICATE_API_TOKEN=r8_xxxxx...
REPLICATE_DEPLOYMENT=ä½ çš„ç”¨æˆ¶å/flux-pro
REPLICATE_DEPLOYMENT_DETECT=ä½ çš„ç”¨æˆ¶å/grounding-dino
IMGIX_DOMAIN=maihouses.imgix.net
AWS_S3_BUCKET=ä½ çš„bucketåç¨±
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=AKIA...
AWS_SECRET_ACCESS_KEY=xxxxx...

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸš€ å¿«é€Ÿå•Ÿå‹•
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. å®‰è£ä¾è³´
npm install

# 2. å»ºç«‹ .env.local (è¤‡è£½ä¸Šé¢çš„ç’°å¢ƒè®Šæ•¸)
cp .env.example .env.local
nano .env.local

# 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# 4. æ¸¬è©¦ API
./test-ai-recolor-apis.sh

# 5. é–‹å•Ÿé é¢
open http://localhost:5173/tools/cake-reveal/ai-color-recolor-m.html

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ§ª æ¸¬è©¦å–®ä¸€ API
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# OpenAI Vision
curl -X POST http://localhost:3000/api/openai-proxy \
  -H "Content-Type: application/json" \
  -d '{"model":"gpt-4o","messages":[{"role":"user","content":"test"}]}'

# Replicate Detection
curl -X POST http://localhost:3000/api/replicate-detect \
  -H "Content-Type: application/json" \
  -d '{"image":"https://example.com/test.jpg","labels":["object"]}'

# Replicate Generate
curl -X POST http://localhost:3000/api/replicate-generate \
  -H "Content-Type: application/json" \
  -d '{"prompt":"beautiful landscape"}'

# imgix Upload
curl -X POST http://localhost:3000/api/upload-imgix \
  -H "Content-Type: application/json" \
  -d '{"imageData":"data:image/png;base64,iVBORw0..."}'

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”„ å®Œæ•´è™•ç†æµç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. ä½¿ç”¨è€…ä¸Šå‚³åœ–ç‰‡ â†’ base64 DataURL
2. OpenAI Vision åˆ†æ â†’ ç‰©é«”ã€é¡è‰²ã€å…‰ç…§
3. ä¸Šå‚³åˆ° imgix/S3 â†’ å–å¾— URL
4. Replicate æª¢æ¸¬ â†’ ç‰©é«”ä½ç½®å’Œæ¨™ç±¤
5. Replicate Flux å¢å¼· â†’ ç´°ç¯€æå‡
6. imgix Blend æ··åˆ â†’ é¡è‰²èåˆ
7. Canvas LAB æ ¡æ­£ â†’ ç²¾ç´°å›å¡«
8. è¼¸å‡ºæœ€çµ‚çµæœ â†’ ä¸‹è¼‰/åˆ†äº«

è™•ç†æ™‚é–“: ç´„ 17-34 ç§’ (1024x1024 åœ–ç‰‡)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ¯ æ ¸å¿ƒæŠ€è¡“
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ OpenAI GPT-4o Vision: åœ–åƒå…§å®¹ç†è§£å’Œåƒæ•¸å»ºè­°
â€¢ Replicate GroundingDINO: ç‰©é«”æª¢æ¸¬å’Œå®šä½
â€¢ Replicate Flux Pro: AI åœ–åƒå¢å¼·å’Œç”Ÿæˆ
â€¢ imgix Blend API: å°ˆæ¥­ç´šé¡è‰²æ··åˆ (screen mode)
â€¢ LAB è‰²å½©ç©ºé–“: æ„ŸçŸ¥å‡å‹»çš„é¡è‰²å›å¡« (deltaE < 0.8)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ’¡ é€²éšé…ç½®
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

imgix åƒæ•¸èª¿æ•´:
?blend-mode=screen       # æ··åˆæ¨¡å¼: screen/multiply/overlay
&blend-alpha=60          # é€æ˜åº¦: 0-100
&sat=10                  # é£½å’Œåº¦: -100 åˆ° 100
&sharp=20                # éŠ³åŒ–: 0-100
&auto=enhance            # è‡ªå‹•å¢å¼·

LAB æ··åˆæ¯”ä¾‹èª¿æ•´ (åœ¨ HTML ä¸­):
enhLab[0] * 0.7 + origLab[0] * 0.3  // äº®åº¦æ··åˆ (L)
origLab[1]                          // ä¿ç•™åŸå§‹è‰²åº¦ (a)
origLab[2]                          // ä¿ç•™åŸå§‹è‰²åº¦ (b)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ› å¸¸è¦‹å•é¡Œ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Q: API è¿”å› 401/403?
A: æª¢æŸ¥ API é‡‘é‘°æ˜¯å¦æ­£ç¢ºä¸”æœ‰é¡åº¦

Q: CORS éŒ¯èª¤?
A: åœ¨ imgix Dashboard è¨­å®šå…è¨±çš„ç¶²åŸŸ

Q: S3 ä¸Šå‚³å¤±æ•—?
A: æª¢æŸ¥ IAM æ¬Šé™ (éœ€è¦ s3:PutObject)

Q: è™•ç†å¤ªæ…¢?
A: æ¸›å°‘åœ–ç‰‡å°ºå¯¸æˆ–ä½¿ç”¨è¼ƒå¿«çš„æ¨¡å‹

Q: é¡è‰²å›å¡«ä¸æº–?
A: èª¿æ•´ LAB æ··åˆæ¯”ä¾‹æˆ– blend-alpha

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“Š æˆæœ¬ä¼°ç®— (æ¯ 1000 æ¬¡è™•ç†)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
OpenAI GPT-4 Vision:  $5 - $10
Replicate Detection:  $0.50
Replicate Flux:       $50
imgix + S3:           $0.16
ç¸½è¨ˆ:                 ç´„ $55 - $60

å»ºè­°: å¯¦ä½œå¿«å–æ©Ÿåˆ¶æ¸›å°‘é‡è¤‡è™•ç†

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸš¢ éƒ¨ç½²åˆ° Vercel
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
vercel login
vercel link
vercel env add OPENAI_API_KEY
vercel env add REPLICATE_API_TOKEN
vercel env add REPLICATE_DEPLOYMENT
vercel env add REPLICATE_DEPLOYMENT_DETECT
vercel env add IMGIX_DOMAIN
vercel env add AWS_S3_BUCKET
vercel env add AWS_S3_REGION
vercel env add AWS_ACCESS_KEY_ID
vercel env add AWS_SECRET_ACCESS_KEY
vercel --prod

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“š å®Œæ•´æ–‡ä»¶
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
è©³ç´°èªªæ˜: cat AI_COLOR_RECOLOR_API_GUIDE.txt
æ¸¬è©¦è…³æœ¬: ./test-ai-recolor-apis.sh
GitHub:    https://github.com/cityfish91159/maihouses

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ¨ ç‰¹è‰²åŠŸèƒ½
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ“ 5 AI æ¨¡å‹èåˆè™•ç†
âœ“ LAB è‰²å½©ç©ºé–“ç²¾ç¢ºå›å¡«
âœ“ é€è¦–æ¨¡å¼ (5 ç¨®)
âœ“ å¯¦æ™‚é è¦½å°æ¯”
âœ“ å¾©åŸ/é‡åš (15 å±¤)
âœ“ PWA æ”¯æ´
âœ“ æ·±è‰²/æ·ºè‰²ä¸»é¡Œ
âœ“ è§¸è¦ºå›é¥‹
âœ“ AI æ™ºèƒ½å»ºè­°é¢æ¿
âœ“ ä¸€éµä¸‹è¼‰/åˆ†äº«

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  éœ€è¦å¹«åŠ©? æŸ¥çœ‹å®Œæ•´æŒ‡å—: AI_COLOR_RECOLOR_API_GUIDE.txt                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
