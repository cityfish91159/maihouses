import{g as M}from"./index-GkKn5kfV.js";let g=97;const i=()=>g=(g*9301+49297)%233280/233280,l=["惠宇上晴","單元二新苑","水湳青庭","七期晶華","北屯新苑","西屯國際"],d=["台中西屯","台中北屯","台中南屯","台中西區","台中北區","台中南區"],h=["雙車位","採光佳","邊間","屋況佳","近公園","24H管理","格局方正"],p=["住戶A","住戶B","住戶C","準住戶D","住戶E"],k=["管理嚴謹","機能方便","中庭維護佳","車位好停","生活圈便利"],D=t=>{let e=2166136261;for(let o=0;o<t.length;o++)e^=t.charCodeAt(o),e=e*16777619>>>0;return e},y=t=>{g=t%233279+1},f=t=>({id:`r${t}`,authorMask:p[t%p.length]??"",content:k[Math.floor(i()*k.length)]??"",ts:new Date(Date.now()-t*36e5).toISOString()});function I(t){const e=l[t%l.length]??"",o=[h[Math.floor(i()*h.length)]??"",h[Math.floor(i()*h.length)]??""].filter(Boolean);return{id:`p${t}`,title:`${e} 景觀${t%3+2}房`,price:1500+Math.floor(i()*2e3),communityId:`c${t%l.length}`,communityName:e,cover:`https://picsum.photos/seed/mai-${t}/800/450`,highlights:o,reviewsTop2:[f(t*2),f(t*2+1)]}}function O(t){return{id:`c${t}`,name:l[t%l.length]??"",cover:`https://picsum.photos/seed/comm-${t}/600/300`,score:4+Math.floor(i()*10)/10,reviewCount:10+Math.floor(i()*90),location:d[t%d.length]??""}}const w=(t=24)=>Array.from({length:t},(e,o)=>I(o+1)),$=(t=6)=>Array.from({length:t},(e,o)=>O(o)),A=(t,e=24)=>(y(D(t)),w(e)),C={c0:[{id:"c0r1",authorMask:"J***",content:"公設維護得乾淨，假日草皮有人整理。之前反映停車動線，管委會一週內就公告改善。",ts:new Date(Date.now()-2*36e5).toISOString()},{id:"c0r2",authorMask:"W***",content:"住起來整體舒服，但面向上路的低樓層在上下班尖峰車聲明顯，喜靜的買家可考慮中高樓層。",ts:new Date(Date.now()-4*36e5).toISOString()},{id:"c0r3",authorMask:"L***",content:"頂樓排水設計不錯，颱風天也沒有積水問題。不過垃圾車時間稍晚，家裡偶爾會有下水道味。",ts:new Date(Date.now()-6*36e5).toISOString()},{id:"c0r4",authorMask:"H***",content:"晚間公共照明足夠，走廊不陰暗。建議之後能更新健身房幾台老舊器材。",ts:new Date(Date.now()-8*36e5).toISOString()},{id:"c0r5",authorMask:"A***",content:"垃圾分類與回收管理還不錯，管理員態度親切。有時收包裹要稍等，但整體效率可以接受。",ts:new Date(Date.now()-10*36e5).toISOString()},{id:"c0r6",authorMask:"K***",content:"車道轉彎半徑偏小，新手第一次會緊張；不過停車場指示標示清楚，熟悉後就順手。",ts:new Date(Date.now()-12*36e5).toISOString()}]},P=t=>new Promise(e=>setTimeout(e,t)),_=t=>{if(t>0&&Math.random()<t)throw new Error("Mock 網路失敗")};async function U(t,e){const o=await M();if(await P(o.latency??0),_(o.error??0),t==="/api/v1/uag/events")return{ok:!0,data:null};if(/^\/api\/v1\/meta$/.test(t))return{ok:!0,data:{backendVersion:"1.0.7",apiVersion:"v1",maintenance:!1}};if(/^\/api\/v1\/properties\?/.test(t)){const r=new URLSearchParams(t.split("?")[1]||""),n=+r.get("page")||1,a=+r.get("pageSize")||8,c=r.get("q")||"",m=`${o.mockSeed??""}|${c}|${n}`;let s=A(m,24);return c&&(s=s.filter(u=>u.title.includes(c)||u.communityName.includes(c))),{ok:!0,data:{items:s.slice((n-1)*a,n*a),page:n,pageSize:a,total:s.length}}}if(/^\/api\/v1\/properties\/[^/?]+$/.test(t)){const r=t.split("/").pop(),n=w(24).find(a=>a.id===r);return n?{ok:!0,data:n}:{ok:!1,error:{code:"NOT_FOUND",message:"物件不存在"}}}if(/^\/api\/v1\/communities\/.+\/reviews\?/.test(t)){const r=t.match(/^\/api\/v1\/communities\/([^/?]+)\/reviews\?/),n=(r==null?void 0:r[1])??"",a=new URLSearchParams(t.split("?")[1]||""),c=+a.get("limit")||2,m=+a.get("offset")||0,s=C[n];return s&&s.length>0?{ok:!0,data:s.slice(m,m+c)}:{ok:!0,data:Array.from({length:c},(u,v)=>f(v+m))}}return/^\/api\/v1\/communities\/preview$/.test(t)?{ok:!0,data:$(6)}:t==="/api/v1/ai/ask"?{ok:!1,error:{code:"USE_REAL_API",message:"AI 助理使用真實 OpenAI API"}}:{ok:!1,error:{code:"NOT_FOUND",message:"端點不存在"}}}export{U as mockHandler};
//# sourceMappingURL=index-936fuPRK.js.map
