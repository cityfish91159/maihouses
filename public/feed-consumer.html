<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, viewport-fit=cover" name="viewport"/>
<title>é‚æˆ¿å­ï½œæˆ‘çš„ç¤¾å€</title>
<meta name="description" content="é‚æˆ¿å­ - æ‚¨å°ˆå±¬çš„æˆ¿ç”¢ç¤¾ç¾¤åŠ©æ‰‹"/>

<link rel="dns-prefetch" href="https://images.unsplash.com">
<link rel="preconnect" href="https://images.unsplash.com" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" as="style">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap">

<style>
/* â”€â”€ æ ¸å¿ƒè®Šæ•¸ & Reset â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
:root{
  --ink:#0b214a; --muted:#526070; --brand:#00385a; --brand-2:#005282; --line:#e6edf7; --card:#fff;
  --bg1:#f6f9ff; --bg2:#eef3ff;
  --pill-border:#cbead4; --pill-bg1:#f3fff8; --pill-bg2:#e8faef; --pill-ink:#0e8d52;
  --safe-bottom: env(safe-area-inset-bottom, 20px);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html{scroll-behavior:smooth}
body{margin:0;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--ink);
  font-family:"Noto Sans TC",system-ui,-apple-system,sans-serif;-webkit-font-smoothing:antialiased}

/* â”€â”€ æ¡Œæ©Ÿç‰ˆé›™æ¬„ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.layout{max-width:960px;margin:0 auto;display:flex;gap:20px;padding:10px}
.feed-main{flex:1;max-width:560px;display:flex;flex-direction:column;gap:12px;padding-bottom:calc(80px + var(--safe-bottom))}
.feed-sidebar{width:280px;flex-shrink:0;display:none;position:sticky;top:70px;align-self:flex-start}
@media(min-width:800px){
  .feed-sidebar{display:flex;flex-direction:column;gap:12px}
  .sticky{display:none!important}
}
@media(max-width:799px){
  .layout{padding:10px 10px calc(80px + var(--safe-bottom))}
  .feed-main{max-width:100%}
}

/* â”€â”€ é ‚éƒ¨å°èˆª (Sticky Header) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.topbar{position:sticky;top:0;z-index:100;background:rgba(246,249,255,.95);backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(230,237,247,0.8);display:flex;align-items:center;gap:10px;padding:8px 16px;
  transform:translateZ(0)}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none}
.brand .logo-icon{width:42px;height:42px;background:linear-gradient(135deg,var(--brand),#005282);border-radius:12px;
  display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,51,102,.2);position:relative;overflow:hidden}
.brand .logo-icon svg{width:22px;height:22px;color:#fff}
.brand .logo-icon::after{content:'';position:absolute;top:8px;right:8px;width:6px;height:6px;background:#FF6B6B;border-radius:50%;box-shadow:0 0 0 1.5px #004E7C}
.brand .logo-text{font-size:24px;font-weight:700;font-family:serif;color:var(--brand);letter-spacing:0.5px}
.brand .logo-slogan{display:none;margin-left:12px;padding-left:12px;border-left:2px solid rgba(0,51,102,.15);font-size:14px;font-weight:700;color:#005282;letter-spacing:2px}
@media(min-width:640px){.brand .logo-slogan{display:block}}
.tools{margin-left:auto;display:flex;gap:8px;align-items:center}
.icon{border:1px solid var(--line);border-radius:12px;background:#fff;padding:8px;font-size:13px;color:#173a7c;
  display:inline-flex;align-items:center;gap:6px;line-height:1;cursor:pointer;transition:transform 0.1s}
.icon:active{transform:scale(0.95)}
.icon.badge{position:relative}
.icon.badge::after{content:attr(data-badge);position:absolute;top:-6px;right:-6px;
  min-width:18px;height:18px;border-radius:999px;background:#e02626;color:#fff;font-size:11px;
  display:flex;align-items:center;justify-content:center;border:2px solid #fff;font-weight:700}

/* â”€â”€ ä¸‹æ‹‰é¸å–® (Dropdown) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.menu{position:relative}
.menu summary{list-style:none;cursor:pointer}
.menu summary::-webkit-details-marker{display:none}
.chip{border:1px solid var(--line);border-radius:14px;padding:6px 10px;font-size:13px;color:#173a7c;background:#fff;display:flex;align-items:center;gap:4px;font-weight:700}
.menu[open]::before{content:"";position:fixed;inset:0;background:rgba(0,0,0,0.1);z-index:10;cursor:default}
.menu-list{display:none;position:absolute;right:0;top:calc(100% + 8px);width:180px;background:#fff;
  border:1px solid var(--line);border-radius:12px;box-shadow:0 10px 30px rgba(11,33,74,.15);
  padding:6px;z-index:20;animation:slideDown 0.2s cubic-bezier(0.16, 1, 0.3, 1)}
.menu[open] .menu-list{display:block}
@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}
.menu-list a{display:flex;align-items:center;gap:10px;padding:10px;border-radius:8px;color:#173a7c;text-decoration:none;font-weight:700;font-size:13px}
.menu-list a:hover{background:#f6f9ff}
.menu-list a:active{background:#eef3ff}
.menu-list hr{border:0;border-top:1px solid #f1f5f9;margin:4px 0}

/* â”€â”€ äº¤æ˜“æ©«å¹…ï¼ˆåªåœ¨æœ‰äº¤æ˜“æ™‚é¡¯ç¤ºï¼‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.tx-banner{display:none;background:linear-gradient(135deg,#e0f7fa,#b2ebf2);border:1px solid #80deea;border-radius:12px;
  padding:12px 16px;align-items:center;gap:12px;margin:0 16px 10px}
.tx-banner.show{display:flex}
.tx-banner .icon-wrap{width:40px;height:40px;background:#fff;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 2px 8px rgba(0,150,136,.15)}
.tx-banner .info{flex:1}
.tx-banner .info b{display:block;font-size:14px;color:#00695c}
.tx-banner .info span{font-size:12px;color:#1a6b63}
.tx-banner .enter{background:#00897b;color:#fff;border:none;border-radius:999px;padding:8px 14px;font-weight:700;font-size:12px;cursor:pointer}
.tx-banner .enter:hover{background:#00796b}

/* â”€â”€ å€‹äººå¡ç‰‡ (Profile Card) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.profile-card{background:#fff;border:1px solid var(--line);border-radius:16px;padding:16px;
  box-shadow:0 4px 14px rgba(0,51,102,.04);display:flex;flex-direction:column;gap:14px}
.profile-card .row{display:flex;align-items:center;gap:14px}
.profile-card .feed-avatar{width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#eef3ff,#fff);
  border:1px solid var(--line);display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--brand);font-size:22px}
.profile-card .feed-hgroup h3{margin:0 0 4px 0;font-size:18px;font-weight:900}
.profile-card .feed-hgroup p{margin:0;font-size:13px;color:var(--muted)}
.level{display:inline-flex;align-items:center;padding:3px 8px;border-radius:6px;font-weight:800;
  font-size:11px;color:#854d0e;background:#fef9c3;border:1px solid #fde047;vertical-align:middle}
.stats{display:flex;gap:8px;flex-wrap:wrap}
.pill{display:inline-flex;align-items:center;padding:5px 10px;border-radius:999px;border:1px solid var(--pill-border);
  background:linear-gradient(180deg,var(--pill-bg1),var(--pill-bg2));font-weight:700;font-size:12px;color:var(--pill-ink)}

/* Flexbox éŸ¿æ‡‰å¼æŒ‰éˆ•å¸ƒå±€ */
.links{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-start}
.link{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:10px 16px;border-radius:999px;
  border:1px dashed var(--line);text-decoration:none;color:var(--brand);background:#fff;font-weight:700;font-size:13px;transition:all 0.2s;opacity:.84}
.link:hover{border-style:solid;border-color:var(--brand);opacity:1}
.link:active{transform:scale(0.97)}
.link.push-right{margin-left:auto;background:#eff6ff;border-color:#bfdbfe;border-style:solid;opacity:1}
@media(max-width:400px){.link.push-right{margin-left:0;width:100%}}

/* â”€â”€ ç™¼ä½ˆæ¡† (Composer) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.composer{display:flex;gap:10px;align-items:flex-start;background:#fff;border:1px solid var(--line);border-radius:16px;padding:12px;box-shadow:0 2px 8px rgba(0,0,0,0.02);transition:all .2s}
.composer .feed-avatar{width:36px;height:36px;border-radius:999px;background:#eef3ff;border:1px solid var(--line);
  display:flex;align-items:center;justify-content:center;color:#173a7c;font-weight:900;flex-shrink:0}
.composer textarea{flex:1;border:1px solid transparent;background:#f6f9ff;border-radius:12px;padding:10px 14px;font-size:14px;transition:all 0.2s;outline:none;resize:none;min-height:40px;max-height:120px;font-family:inherit;line-height:1.4}
.composer textarea:focus{background:#fff;border-color:var(--brand-2);box-shadow:0 0 0 3px rgba(0,168,232,0.15)}
.composer .btn{border:none;background:var(--brand);color:#fff;border-radius:999px;padding:8px 16px;font-weight:700;font-size:13px;cursor:pointer;transition:all .2s}
.composer .btn:hover{background:#004488}
.composer.expanded{box-shadow:0 6px 18px rgba(0,51,102,.1);border-color:#c3d4ff}
.composer.expanded textarea{background:#fff}

/* â”€â”€ è²¼æ–‡ (Feed Card) & éª¨æ¶å±å‹•æ•ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.feed-post{background:#fff;border:1px solid var(--line);border-radius:16px;padding:16px;display:flex;flex-direction:column;gap:12px;
  box-shadow:0 4px 14px rgba(12,34,80,.04);opacity:0;transform:translateY(20px);transition:opacity 0.6s ease, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1)}
.feed-post.visible{opacity:1;transform:translateY(0)}
.head{display:flex;gap:12px;align-items:center;padding-bottom:10px;border-bottom:1px solid #f1f5f9}
.head .feed-avatar{width:40px;height:40px;border-radius:999px;background:#eef3ff;display:flex;align-items:center;justify-content:center;color:#173a7c;font-weight:900;border:1px solid var(--line)}
.feed-hgroup{flex:1;line-height:1.3}
.feed-hgroup b{display:block;font-size:15px;color:#0f172a}
.feed-hgroup .sub{font-size:12px;color:var(--muted)}
.body{padding-top:4px}
.body p{margin:0 0 10px;line-height:1.6}

.photo-container{width:100%;aspect-ratio:16/9;background:#e2e8f0;border-radius:12px;overflow:hidden;border:1px solid var(--line)}
.photo{width:100%;height:100%;object-fit:cover;transition:transform 0.5s ease}
.photo:hover{transform:scale(1.02)}

.ai-insight{margin-top:10px;padding:10px 12px;background:#f8fafc;border-radius:10px;font-size:12px;color:#475569;display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .2s}
.ai-insight:hover{background:#eff6ff}

.actions{display:flex;gap:8px;border-top:1px solid #f1f5f9;padding-top:12px;margin-top:4px}
.btn{border:1px solid var(--line);border-radius:8px;background:#fff;padding:8px 14px;font-weight:700;font-size:13px;
  color:#475569;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:all 0.15s}
.btn:hover{background:#f8fafc}
.btn:active{transform:scale(0.95)}
.btn[aria-pressed="true"]{background:#eff6ff;color:var(--brand);border-color:var(--brand-2)}
.btn[disabled]{opacity:.6;cursor:not-allowed}
.btn.primary{background:#eff6ff;color:var(--brand);border-color:#bfdbfe}

/* â”€â”€ æ¨™ç±¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.tags{display:flex;gap:6px;flex-wrap:wrap}
.tag{border:1px solid #e2e8f0;background:#f8fafc;border-radius:6px;padding:3px 8px;font-size:12px;color:#475569}
.tag.ok{background:#f0fdf4;border-color:#bbf7d0;color:#15803d}

/* â”€â”€ åº•éƒ¨é»è‘— CTA (Safe Area Perfect) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.sticky{position:fixed;left:0;right:0;bottom:0;z-index:90;
  background:rgba(255,255,255,.92);backdrop-filter:blur(16px);border-top:1px solid rgba(0,0,0,0.05);
  padding:10px 12px calc(10px + var(--safe-bottom));
  display:flex;gap:10px;justify-content:center;box-shadow:0 -4px 20px rgba(0,0,0,0.03)}
.sticky .cta{flex:1;max-width:180px;border:none;border-radius:12px;padding:12px;font-weight:800;font-size:14px;cursor:pointer;transition:transform 0.2s}
.sticky .cta:active{transform:scale(0.97)}
.sticky .cta.secondary{background:#eff6ff;color:var(--brand)}
.sticky .cta.primary{background:var(--brand);color:#fff;box-shadow:0 6px 16px rgba(0,51,102,0.25)}

/* â”€â”€ æ¡Œæ©Ÿç‰ˆ Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.sidebar-card{background:#fff;border:1px solid var(--line);border-radius:14px;padding:14px;box-shadow:0 4px 14px rgba(0,51,102,.04)}
.sidebar-card h4{margin:0 0 10px 0;font-size:14px;font-weight:700;color:var(--brand)}
.sidebar-card .link-list{display:flex;flex-direction:column;gap:6px}
.sidebar-card .link-list a{display:flex;align-items:center;gap:8px;padding:10px 12px;border-radius:10px;text-decoration:none;color:var(--ink);font-size:13px;font-weight:600;transition:all .15s}
.sidebar-card .link-list a:hover{background:#f0f7ff}
.sidebar-card .link-list a.active{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff}

/* GPU hint */
.topbar,.sticky{will-change:transform}

/* éŸ¿æ‡‰å¼ */
@media(max-width:375px){
  .stats{gap:6px}
  .pill{padding:4px 8px;font-size:11px}
}
</style>
</head>
<body>

<header class="topbar">
  <a href="/maihouses/" class="brand" aria-label="é‚æˆ¿å­é¦–é ">
    <div class="logo-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 9.5L12 3L21 9.5V20.5C21 21.0523 20.5523 21.5 20 21.5H4C3.44772 21.5 3 21.0523 3 20.5V9.5Z"/>
        <path d="M9 21.5V13H15V21.5"/>
      </svg>
    </div>
    <span class="logo-text">é‚æˆ¿å­</span>
    <span class="logo-slogan">è®“å®¶ï¼Œä¸åªæ˜¯åœ°å€</span>
  </a>
  <div class="tools">
    <details class="menu">
      <summary aria-haspopup="menu" onkeydown="if(event.key==='Enter'||event.key===' '){this.click();event.preventDefault()}"><span class="chip">ğŸ‘¤ æˆ‘çš„</span></summary>
      <div class="menu-list" role="menu" id="myMenu">
        <a href="#fav" role="menuitem">â­ æˆ‘çš„æ”¶è—</a>
        <a href="#history" role="menuitem">ğŸ“‹ ç€è¦½ç´€éŒ„</a>
        <hr>
        <a href="auth.html?action=logout" role="menuitem" style="color:#ef4444">ğŸšª ç™»å‡º</a>
      </div>
    </details>
    <button type="button" class="icon badge" data-badge="2" aria-label="é€šçŸ¥ï¼š2 å‰‡æœªè®€">ğŸ””</button>
    <button type="button" class="icon" aria-label="è¨Šæ¯">ğŸ’¬</button>
  </div>
</header>

<!-- äº¤æ˜“æ©«å¹… - åªåœ¨æœ‰é€²è¡Œä¸­äº¤æ˜“æ™‚é¡¯ç¤º -->
<div class="tx-banner" id="txBanner">
  <div class="icon-wrap">ğŸ </div>
  <div class="info">
    <b>æ‚¨æœ‰ä¸€ç­†äº¤æ˜“é€²è¡Œä¸­</b>
    <span>æƒ å®‡ä¸Šæ™´ 12Fãƒ»æ–¡æ—‹éšæ®µ</span>
  </div>
  <button class="enter" onclick="location.href='/maihouses/assure'" onkeydown="if(event.key==='Enter')this.click()">é€²å…¥æˆ°æƒ…å®¤</button>
</div>

<div class="layout">
  <main class="feed-main">
    <!-- å€‹äººå¡ -->
    <section class="profile-card">
      <div class="row">
        <div class="feed-avatar" aria-hidden="true">M</div>
        <div class="feed-hgroup">
          <h3>Mike</h3>
          <p>ä¾†è‡ªã€æƒ å®‡ä¸Šæ™´ç¤¾å€ã€‘ï½œ<span class="level">ğŸ‘‘ é»ƒé‡‘ä½æˆ¶</span></p>
        </div>
      </div>
      <div class="stats">
        <span class="pill">ğŸ“… äº’å‹• 128 å¤©</span>
        <span class="pill">â¤ï¸ è¢«æ„Ÿè¬ 73</span>
        <span class="pill">âœï¸ è²¢ç» 15 ç¯‡</span>
      </div>
      <div class="links">
        <a class="link push-right" href="#my-community">ğŸ§± æŸ¥çœ‹æˆ‘çš„ç¤¾å€ç‰† â¡ï¸</a>
      </div>
    </section>

    <!-- ç™¼æ–‡æ¡† -->
    <div class="composer">
      <div class="feed-avatar" aria-hidden="true">M</div>
      <textarea placeholder="åˆ†äº«çœ‹å±‹å¿ƒå¾—ã€ç¤¾å€ç”Ÿæ´»æˆ–æƒ³å•çš„äº‹â€¦" rows="1" aria-label="å»ºç«‹è²¼æ–‡"></textarea>
      <button class="btn">ç™¼ä½ˆ</button>
    </div>

    <!-- è²¼æ–‡ï¼šç¤¾å€å…¬å‘Š -->
    <article class="feed-post">
      <div class="head">
        <div class="feed-avatar" style="background:#003366;color:#fff">ç®¡</div>
        <div class="feed-hgroup">
          <b>ç¤¾å€ç®¡ç†å§”å“¡æœƒ</b>
          <div class="sub">ğŸ“¢ å…¬å‘Š Â· 2 å°æ™‚å‰</div>
        </div>
      </div>
      <div class="body">
        <p><b>å¹´åº¦æ¶ˆé˜²æ¼”ç·´é€šçŸ¥</b></p>
        <p>12/15ï¼ˆæ—¥ï¼‰ä¸Šåˆ 10:00 å°‡é€²è¡Œå…¨ç¤¾å€æ¶ˆé˜²æ¼”ç·´ï¼Œå±Šæ™‚æœƒæœ‰è­¦å ±è²éŸ¿ï¼Œè«‹å‹¿é©šæ…Œã€‚</p>
        <div class="tags">
          <span class="tag ok">âœ… é‡è¦å…¬å‘Š</span>
          <span class="tag">ğŸ”¥ æ¶ˆé˜²å®‰å…¨</span>
        </div>
      </div>
      <div class="actions">
        <button class="btn" aria-pressed="false">ğŸ‘ å·²è®€</button>
        <button class="btn">ğŸ’¬ ç•™è¨€</button>
      </div>
    </article>

    <!-- è²¼æ–‡ï¼šæˆ¿ä»²åˆ†äº« -->
    <article class="feed-post">
      <div class="head">
        <div class="feed-avatar">ç‹</div>
        <div class="feed-hgroup">
          <b>ç‹ä»² Â· åœ¨åœ°æˆ¿ä»²</b>
          <div class="sub">3 åˆ†é˜å‰ Â· ç¤¾å€å‹•æ…‹</div>
        </div>
      </div>
      <div class="body">
        <p>ğŸ¡ åˆ†äº«ä¸€ä¸‹æœ€è¿‘å¸¶çœ‹çš„å¿ƒå¾—ï¼šæƒ å®‡ä¸Šæ™´ 12F é›™é™½å°æˆ¶ï¼Œå®¢å»³æ¡å…‰çœŸçš„å¾ˆæ£’ï¼ä¸Šé€±å±‹ä¸»å‰›é™åƒ¹ <b>50 è¬</b>ï¼Œæœ‰èˆˆè¶£çš„é„°å±…å¯ä»¥ç§è¨Šæˆ‘ã€‚</p>
        <div class="photo-container">
          <picture>
            <source srcset="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" type="image/webp">
            <img loading="lazy" class="photo" src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&q=80" alt="æƒ å®‡ä¸Šæ™´å®¢å»³æ¡å…‰å¯¦æ™¯">
          </picture>
        </div>
        <button type="button" class="ai-insight" onclick="alert('AI é«”æª¢å ±å‘Šï¼ˆé–‹ç™¼ä¸­ï¼‰')">
          ğŸ¤– <b>AI é«”æª¢ï¼š</b> å±‹æ³è‰¯å¥½ (92åˆ†)ï½œå…¬è¨­æ¯” 31%ï½œç¤¾å€è©•åˆ† 4.6â˜… â†’
        </button>
      </div>
      <div class="actions">
        <button class="btn" aria-pressed="false">ğŸ‘ è®š</button>
        <button class="btn">ğŸ’¬ è©¢å•</button>
        <button class="btn primary">ğŸ“… é ç´„</button>
      </div>
    </article>

    <!-- è²¼æ–‡ï¼šåœ˜è³¼ -->
    <article class="feed-post">
      <div class="head">
        <div class="feed-avatar">ç¤¾</div>
        <div class="feed-hgroup">
          <b>ç¤¾å€ç†±å¸– Â· åœ˜è³¼</b>
          <div class="sub">20 åˆ†é˜å‰</div>
        </div>
      </div>
      <div class="body">
        <p><b>æœ‰äººè¦åœ˜è³¼æƒåœ°æ©Ÿå—ï¼Ÿ</b> é€™æ¬¾ iRobot æ‰“æŠ˜ï¼Œæ»¿ 5 å°æœ‰åœ˜è³¼åƒ¹ï½</p>
        <p style="font-size:13px;color:#3d4f5f">â¤ï¸ 31 Â· ğŸ’¬ 14</p>
      </div>
      <div class="actions">
        <button class="btn" aria-pressed="false">â¤ï¸ è®š</button>
        <button class="btn">ğŸ’¬ å›è¦†</button>
        <button class="btn">+1 åƒåŠ </button>
      </div>
    </article>

    <!-- è²¼æ–‡ï¼šåœè»Šä½ -->
    <article class="feed-post">
      <div class="head">
        <div class="feed-avatar">æ</div>
        <div class="feed-hgroup">
          <b>æå…ˆç”Ÿ Â· Bæ£Ÿä½æˆ¶</b>
          <div class="sub">1 å°æ™‚å‰</div>
        </div>
      </div>
      <div class="body">
        <p><b>åœè»Šä½äº¤æ›</b> æˆ‘æœ‰ B2-128 æƒ³èˆ‡ B1 çš„ä½ç½®äº¤æ›ï¼Œæœ‰æ„é¡˜çš„é„°å±…è«‹ç•™è¨€ï½</p>
        <p style="font-size:13px;color:#3d4f5f">â¤ï¸ 16 Â· ğŸ’¬ 11</p>
      </div>
      <div class="actions">
        <button class="btn">ğŸ’¬ å›è¦†</button>
        <button class="btn">â­ è¿½è¹¤</button>
      </div>
    </article>

    <!-- è²¼æ–‡ï¼šAI å¿«è¨Š -->
    <article class="feed-post">
      <div class="head">
        <div class="feed-avatar" style="background:linear-gradient(135deg,#667eea,#764ba2);color:#fff">AI</div>
        <div class="feed-hgroup">
          <b>é‚æˆ¿å­ AI</b>
          <div class="sub">æ¯é€±å¸‚æ³å¿«è¨Š Â· 5 åˆ†é˜å‰</div>
        </div>
      </div>
      <div class="body">
        <p>ğŸ“Š æœ¬é€±ã€Œæƒ å®‡ä¸Šæ™´ã€ç¤¾å€æˆäº¤ä¸€ç­† 12Fï¼Œå–®åƒ¹ç´„ <b>38.5 è¬/åª</b>ï¼Œè¼ƒä¸Šæœˆå¾®æ¼² 2%ã€‚ç›®å‰å¾…å”® 3 æˆ¶ã€‚</p>
        <div class="tags">
          <span class="tag">ğŸ“ˆ å¸‚å ´è¡Œæƒ…</span>
          <span class="tag ok">âœ… æ•¸æ“šæ›´æ–°</span>
        </div>
      </div>
      <div class="actions">
        <button class="btn">ğŸ” çœ‹è©³ç´°</button>
        <button class="btn">ğŸ’¬ è¨è«–</button>
      </div>
    </article>

    <!-- è²¼æ–‡ï¼šæ–°ä½æˆ¶å¿ƒå¾— -->
    <article class="feed-post">
      <div class="head">
        <div class="feed-avatar">æ¸¸</div>
        <div class="feed-hgroup">
          <b>æ¸¸å…ˆç”Ÿ Â· å‰›å…¥ä½</b>
          <div class="sub">2 å¤©å‰ Â· æ–°ä½æˆ¶å¿ƒå¾—</div>
        </div>
      </div>
      <div class="body">
        <p>ä½äº†ä¸€å€‹æœˆçš„å¿ƒå¾—ï¼šç®¡ç†å“¡å¾ˆè¦ªåˆ‡ã€å…¬è¨­ç¶­è­·å¾—å¾ˆå¥½ã€åœè»Šå ´å‹•ç·šé †æš¢ã€‚å”¯ä¸€ç¼ºé»æ˜¯é¢é¦¬è·¯çš„é‚£å´æ¯”è¼ƒåµï¼Œå»ºè­°åŠ è£æ°£å¯†çª—ã€‚</p>
        <div class="tags">
          <span class="tag ok">âœ… çœŸå¯¦å¿ƒå¾—</span>
          <span class="tag">ğŸ  æ–°ä½æˆ¶</span>
        </div>
        <p style="font-size:13px;color:#3d4f5f;margin-top:8px">â¤ï¸ 42 Â· ğŸ’¬ 15</p>
      </div>
      <div class="actions">
        <button class="btn" aria-pressed="false">ğŸ‘ è®š</button>
        <button class="btn">ğŸ’¬ ç•™è¨€</button>
      </div>
    </article>
  </main>

  <!-- æ¡Œæ©Ÿç‰ˆå´æ¬„ -->
  <aside class="feed-sidebar">
    <div class="sidebar-card">
      <h4>ğŸ§­ å¿«é€Ÿå°èˆª</h4>
      <div class="link-list">
        <a href="#my-community" class="active">ğŸ§± æˆ‘çš„ç¤¾å€ç‰†</a>
        <a href="#explore">ğŸ” æ¢ç´¢å…¶ä»–ç¤¾å€</a>
        <a href="#fav">â­ æˆ‘çš„æ”¶è—</a>
        <a href="#history">ğŸ“‹ ç€è¦½ç´€éŒ„</a>
      </div>
    </div>
    
    <div class="sidebar-card">
      <h4>ğŸ“Š ç¤¾å€å‹•æ…‹</h4>
      <p style="font-size:13px;color:#3d4f5f;margin:0;line-height:1.8">
        æœ¬é€±æ–°å¢ <b style="color:var(--brand)">3</b> ç¯‡è²¼æ–‡<br>
        æ´»èºä½æˆ¶ <b style="color:var(--brand)">28</b> äºº
      </p>
    </div>
    
    <div class="sidebar-card">
      <h4>ğŸ  å¾…å”®ç‰©ä»¶</h4>
      <p style="font-size:13px;color:#3d4f5f;margin:0;line-height:1.8">
        æƒ å®‡ä¸Šæ™´ç›®å‰æœ‰ <b style="color:var(--brand)">3</b> æˆ¶å¾…å”®<br>
        <a href="#" style="color:var(--brand-2);font-size:12px">æŸ¥çœ‹å…¨éƒ¨ â†’</a>
      </p>
    </div>
  </aside>
</div>

<!-- é»åº• CTA - æ‰‹æ©Ÿç‰ˆ -->
<nav class="sticky">
  <button class="cta secondary" onclick="location.href='#my-community'" onkeydown="if(event.key==='Enter')this.click()">ğŸ§± ç¤¾å€ç‰†</button>
  <button class="cta primary" onclick="location.href='#explore'" onkeydown="if(event.key==='Enter')this.click()">ğŸ” æ¢ç´¢ç¤¾å€</button>
</nav>

<script>
(function initApp() {
  const $ = (sel, root=document) => root.querySelector(sel);
  const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

  // 1. éª¨æ¶å±è§€æ¸¬å™¨ - è²¼æ–‡æ»‘å…¥å‹•æ•ˆ
  const observer = new IntersectionObserver((entries) => {
    for (const entry of entries) {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    }
  }, { threshold: 0.1 });
  
  for (const el of $$('.feed-post')) observer.observe(el);

  // 2. æª¢æŸ¥æ˜¯å¦æœ‰é€²è¡Œä¸­çš„äº¤æ˜“
  (function checkTransaction(){
    try {
      const hasActiveTx = localStorage.getItem('mai_active_tx');
      if (hasActiveTx === 'true') {
        $('#txBanner').classList.add('show');
        // åŒæ™‚åœ¨é¸å–®åŠ å…¥é€£çµ
        const menu = $('#myMenu');
        const link = document.createElement('a');
        link.href = "/maihouses/assure";
        link.role = "menuitem";
        link.style.cssText = "color:#0284c7;background:#f0f9ff";
        link.innerHTML = 'ğŸ  <b>å®‰å¿ƒæˆ°æƒ…å®¤</b> <span style="font-size:10px;background:#0ea5e9;color:white;padding:1px 6px;border-radius:99px;margin-left:auto">é€²è¡Œä¸­</span>';
        menu.insertBefore(link, menu.firstChild);
      }
      // é–‹ç™¼æ¸¬è©¦ï¼šURL åŠ  ?tx=1 å¯å¼·åˆ¶é¡¯ç¤º
      if (new URLSearchParams(location.search).get('tx') === '1') {
        $('#txBanner').classList.add('show');
        localStorage.setItem('mai_active_tx', 'true');
      }
    } catch (e) {
      console.debug('Transaction check:', e);
    }
  })();

  // 3. Composer å±•é–‹æ•ˆæœ
  (function(){
    const comp = $('.composer');
    if(!comp) return;
    const textarea = $('textarea', comp);
    if(!textarea) return;
    function expand(){ comp.classList.add('expanded'); }
    function collapse(){ if(!textarea.value.trim()) comp.classList.remove('expanded'); }
    textarea.addEventListener('focus', expand);
    textarea.addEventListener('blur', collapse);
    textarea.addEventListener('input', function(){
      this.style.height = 'auto';
      this.style.height = Math.min(this.scrollHeight, 120) + 'px';
    });
  })();

  // 4. äº‹ä»¶è™•ç†å™¨ (æ‹†åˆ†é™ä½è¤‡é›œåº¦)
  function handleLikeButton(btn) {
    const isPressed = btn.getAttribute('aria-pressed') === 'true';
    btn.setAttribute('aria-pressed', String(!isPressed));
    if (isPressed) {
      btn.innerHTML = btn.dataset._orig || 'ğŸ‘ è®š';
    } else {
      btn.dataset._orig = btn.textContent;
      btn.innerHTML = 'âœ… ' + btn.textContent.replace(/^./, '');
    }
    btn.disabled = true;
    setTimeout(() => { btn.disabled = false; }, 300);
    if (navigator.vibrate) navigator.vibrate(50);
  }

  function handleComposerPublish(btn, e) {
    e.preventDefault();
    const composer = btn.closest('.composer');
    const textarea = $('textarea', composer);
    if (!textarea) return;
    const content = textarea.value.trim();
    if (!content) return;
    console.log('ç™¼ä½ˆæˆåŠŸï¼ˆæœ¬åœ°ï¼‰ï¼š', { content, time: new Date().toISOString() });
    textarea.value = '';
    textarea.style.height = 'auto';
    composer.classList.remove('expanded');
    alert('ç™¼ä½ˆæˆåŠŸï¼');
  }

  function handleMenuClose(btn) {
    setTimeout(() => {
      const parent = btn.parentElement;
      const closeMenu = (ev) => {
        if (!parent.contains(ev.target)) {
          parent.removeAttribute('open');
          document.removeEventListener('click', closeMenu);
        }
      };
      document.addEventListener('click', closeMenu);
    }, 0);
  }

  // 5. äº‹ä»¶å§”è¨—
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('button, summary');
    if (!btn) return;

    // è®šæŒ‰éˆ•
    if (btn.classList.contains('btn') && /è®š|å·²è®€/.test(btn.textContent)) {
      handleLikeButton(btn);
      return;
    }

    // ç™¼ä½ˆ
    if (btn.closest('.composer') && btn.classList.contains('btn')) {
      handleComposerPublish(btn, e);
      return;
    }

    // ä¸‹æ‹‰é¸å–®é—œé–‰
    if (btn.tagName === 'SUMMARY') {
      handleMenuClose(btn);
      return;
    }

    // é€šçŸ¥æŒ‰éˆ•
    if (btn.classList.contains('icon')) {
      e.preventDefault();
      alert('åŠŸèƒ½é–‹ç™¼ä¸­');
    }
  });

  // 5. Lazy load images
  for (const img of $$('img:not([loading])')) img.loading = 'lazy';

})();
</script>

</body>
</html>
