<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover"/>
<title>ç¤¾å€ç‰†ï½œæƒ å®‡ä¸Šæ™´</title>
<meta name="description" content="ç¤¾å€ç†±å¸–ã€çœŸå¯¦è©•åƒ¹ã€æº–ä½æˆ¶å•ç­” - é‚æˆ¿å­ç¤¾å€ç‰†"/>
<style>
/* === åŸºç¤è®Šæ•¸ === */
:root{
  --primary:#00385a;--primary-dark:#002a44;--primary-light:#33607b;
  --secondary:#34c759;--secondary-light:#50d167;
  --accent:#ff9b4a;--warning:#ef4444;--heart:#ff3b30;
  --bg-base:#f8fafb;--bg-alt:#f0f4fa;--bg-elevated:#ffffff;
  --text-primary:#0a1f3f;--text-secondary:#5a6b7f;
  --border:#d8e4f0;--border-light:#e8f0f8;
  --brand:#003366;--line:#e6edf7;
}

/* === Reset === */
*{box-sizing:border-box;margin:0;padding:0}
html,body{min-height:100%;background:linear-gradient(180deg,var(--bg-base)0%,var(--bg-alt)100%);
  color:var(--text-primary);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans TC",sans-serif;
  -webkit-font-smoothing:antialiased}

/* === é é¢å®¹å™¨ === */
.page{max-width:520px;margin:0 auto;padding:8px 8px 100px;display:flex;flex-direction:column;gap:12px}

/* === é ‚éƒ¨å°èˆª === */
.topbar{position:sticky;top:0;z-index:100;background:rgba(246,249,255,.95);backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(230,237,247,0.8);display:flex;align-items:center;gap:10px;padding:8px 16px;margin:-8px -8px 0}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none}
.brand .logo-icon{width:42px;height:42px;background:linear-gradient(135deg,var(--brand),#005282);border-radius:12px;
  display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,51,102,.2)}
.brand .logo-icon svg{width:22px;height:22px;color:#fff}
.brand .logo-text{font-size:24px;font-weight:700;font-family:serif;color:var(--brand)}
.tools{margin-left:auto;display:flex;gap:8px}
.icon-btn{border:1px solid var(--line);border-radius:12px;background:#fff;padding:8px 12px;font-size:13px;color:#173a7c;
  display:inline-flex;align-items:center;gap:6px;cursor:pointer;transition:all .15s}
.icon-btn:hover{background:#f6f9ff}
.icon-btn:active{transform:scale(0.95)}

/* === å€å¡Šå¡ç‰‡ === */
.section{background:rgba(255,255,255,.95);backdrop-filter:blur(16px);border:1px solid var(--border-light);
  border-radius:18px;padding:12px;display:flex;flex-direction:column;gap:10px;
  box-shadow:0 2px 8px rgba(0,0,0,.03)}
.section-header{display:flex;justify-content:space-between;align-items:center}
.section-title{font-size:16px;font-weight:800;color:var(--primary-dark)}
.section-sub{font-size:11px;color:var(--text-secondary)}
.badge{display:inline-flex;align-items:center;gap:4px;background:rgba(0,56,90,.08);border:1px solid var(--primary-light);
  color:var(--primary);border-radius:999px;padding:4px 10px;font-size:10px;font-weight:700}

/* === Tabs === */
.tabs{display:flex;gap:6px;flex-wrap:wrap}
.tab{padding:6px 14px;border-radius:999px;border:1px solid transparent;font-size:11px;font-weight:600;
  background:rgba(240,244,250,.8);color:var(--text-secondary);cursor:pointer;transition:all .2s}
.tab:hover{background:rgba(0,56,90,.08);color:var(--primary)}
.tab.active{background:rgba(0,56,90,.1);border-color:var(--primary-light);color:var(--primary);font-weight:700}
.tab.locked{opacity:.6}
.tab .lock-icon{margin-left:4px}

/* === è²¼æ–‡å¡ç‰‡ === */
.post-card{display:flex;gap:10px;padding:12px;border:1px solid var(--border-light);border-radius:14px;
  background:#fff;transition:all .2s}
.post-card:hover{border-color:var(--primary-light);box-shadow:0 2px 8px rgba(0,56,90,.06)}
.post-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#eef3ff,#fff);
  border:2px solid var(--primary);display:flex;align-items:center;justify-content:center;
  font-weight:800;color:var(--primary);font-size:16px;flex-shrink:0}
.post-avatar.agent{border-color:var(--secondary);color:var(--secondary)}
.post-body{flex:1;display:flex;flex-direction:column;gap:6px}
.post-header{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.post-author{font-weight:700;font-size:13px;color:var(--text-primary)}
.post-badge{font-size:9px;padding:2px 6px;border-radius:4px;font-weight:700}
.post-badge.resident{background:#e8faef;color:#0e8d52}
.post-badge.agent{background:#fff3e0;color:#e65100}
.post-badge.verified{background:#e3f2fd;color:#1565c0}
.post-time{font-size:11px;color:var(--text-secondary)}
.post-content{font-size:13px;line-height:1.55;color:var(--text-primary)}
.post-stats{display:flex;gap:12px;font-size:11px;color:var(--text-secondary)}
.post-stat{display:flex;align-items:center;gap:4px}
.post-actions{display:flex;gap:8px;margin-top:4px}
.action-btn{display:flex;align-items:center;gap:4px;padding:5px 10px;border-radius:8px;
  background:rgba(0,56,90,.06);border:1px solid rgba(0,56,90,.1);color:var(--primary);
  font-size:11px;font-weight:600;cursor:pointer;transition:all .15s}
.action-btn:hover{background:rgba(0,56,90,.12)}

/* === è©•åƒ¹å¡ç‰‡ === */
.review-card{padding:12px;border:1px solid var(--border-light);border-radius:14px;background:#fff}
.review-header{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.review-avatar{width:36px;height:36px;border-radius:50%;background:rgba(0,56,90,.08);
  display:flex;align-items:center;justify-content:center;font-weight:800;color:var(--primary);font-size:14px}
.review-meta{flex:1}
.review-author{font-weight:700;font-size:12px}
.review-sub{font-size:10px;color:var(--text-secondary)}
.review-content{display:flex;flex-direction:column;gap:6px}
.review-item{display:flex;align-items:flex-start;gap:8px;font-size:12px;line-height:1.5}
.review-icon{font-size:14px;flex-shrink:0}
.review-text{color:var(--text-primary)}

/* === å•ç­”å¡ç‰‡ === */
.qa-card{padding:12px;border:1px solid var(--border-light);border-radius:14px;background:#fff}
.qa-question{font-weight:700;font-size:13px;color:var(--primary-dark);margin-bottom:8px}
.qa-meta{display:flex;align-items:center;gap:8px;font-size:11px;color:var(--text-secondary);margin-bottom:10px}
.qa-answers{display:flex;flex-direction:column;gap:8px;padding-left:12px;border-left:2px solid var(--border)}
.qa-answer{font-size:12px;line-height:1.5}
.qa-answer-header{display:flex;align-items:center;gap:6px;margin-bottom:4px}
.qa-answer-badge{font-size:9px;padding:2px 6px;border-radius:4px;font-weight:700}

/* === æ¨¡ç³Šé®ç½© === */
.blur-overlay{position:relative}
.blur-overlay .blur-content{filter:blur(4px);pointer-events:none;user-select:none}
.blur-overlay .blur-cta{position:absolute;inset:0;display:flex;flex-direction:column;
  align-items:center;justify-content:center;background:rgba(255,255,255,.85);border-radius:14px;
  text-align:center;padding:20px}
.blur-cta h4{font-size:14px;font-weight:800;color:var(--primary-dark);margin-bottom:8px}
.blur-cta p{font-size:12px;color:var(--text-secondary);margin-bottom:12px}
.blur-cta button{background:linear-gradient(135deg,var(--primary),#005282);color:#fff;
  border:none;border-radius:999px;padding:10px 24px;font-size:13px;font-weight:700;cursor:pointer}
.blur-cta button:hover{transform:scale(1.02)}

/* === ç§å¯†ç‰†é–å®š === */
.private-lock{display:flex;flex-direction:column;align-items:center;justify-content:center;
  padding:40px 20px;text-align:center;background:rgba(0,56,90,.03);border-radius:14px}
.private-lock .lock-icon-big{font-size:48px;margin-bottom:12px;opacity:.5}
.private-lock h4{font-size:14px;font-weight:700;color:var(--primary-dark);margin-bottom:6px}
.private-lock p{font-size:12px;color:var(--text-secondary);margin-bottom:16px}
.private-lock button{background:var(--primary);color:#fff;border:none;border-radius:999px;
  padding:10px 20px;font-size:12px;font-weight:700;cursor:pointer}

/* === èº«ä»½åˆ‡æ›å™¨ï¼ˆMock ç”¨ï¼‰=== */
.role-switcher{position:fixed;bottom:20px;right:20px;z-index:1000}
.role-switcher-btn{background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff;
  border:none;border-radius:12px;padding:10px 16px;font-size:12px;font-weight:700;
  cursor:pointer;box-shadow:0 4px 20px rgba(0,0,0,.3);display:flex;align-items:center;gap:6px}
.role-switcher-menu{position:absolute;bottom:50px;right:0;background:#fff;border:1px solid var(--border);
  border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.15);padding:8px;min-width:180px;display:none}
.role-switcher-menu.open{display:block}
.role-switcher-menu button{display:block;width:100%;text-align:left;padding:10px 12px;
  border:none;background:none;border-radius:8px;font-size:12px;cursor:pointer;color:var(--text-primary)}
.role-switcher-menu button:hover{background:#f6f9ff}
.role-switcher-menu button.active{background:rgba(0,56,90,.1);color:var(--primary);font-weight:700}

/* === å›ºå®šåº•éƒ¨ CTA === */
.fixed-bottom-cta{position:fixed;bottom:0;left:0;right:0;background:rgba(255,255,255,.95);
  backdrop-filter:blur(12px);border-top:1px solid var(--border);padding:12px 16px;
  display:flex;align-items:center;justify-content:center;gap:12px;z-index:90}
.fixed-bottom-cta.hidden{display:none}
.fixed-bottom-cta p{font-size:12px;color:var(--text-secondary)}
.fixed-bottom-cta button{background:linear-gradient(135deg,var(--primary),#005282);color:#fff;
  border:none;border-radius:999px;padding:10px 20px;font-size:13px;font-weight:700;cursor:pointer}
</style>
</head>
<body>
<main class="page">

  <!-- é ‚éƒ¨å°èˆª -->
  <header class="topbar">
    <a href="/maihouses/" class="brand">
      <div class="logo-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
          <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
      </div>
      <span class="logo-text">é‚æˆ¿å­</span>
    </a>
    <div class="tools">
      <button class="icon-btn" onclick="history.back()">â† è¿”å›</button>
      <button class="icon-btn">ğŸ“¤</button>
    </div>
  </header>

  <!-- ç¤¾å€è³‡è¨Šå¡ -->
  <section class="section">
    <div class="section-header">
      <div>
        <h1 class="section-title">æƒ å®‡ä¸Šæ™´ï½œç¤¾å€ç‰†</h1>
        <p class="section-sub">çœŸå¯¦ä½æˆ¶äº’å‹• Ã— ç¤¾å€å£ç¢‘</p>
      </div>
      <span class="badge">ğŸ‘¥ å·²åŠ å…¥ 88 ä½</span>
    </div>
  </section>

  <!-- å€å¡Šä¸€ï¼šç¤¾å€ç†±å¸– -->
  <section class="section" id="hot-posts-section">
    <div class="section-header">
      <h2 class="section-title">ğŸ”¥ ç¤¾å€ç†±å¸–</h2>
    </div>
    <div class="tabs" id="wall-tabs">
      <div class="tab active" data-wall="public" onclick="switchWall('public')">å…¬é–‹ç‰†</div>
      <div class="tab" data-wall="private" onclick="switchWall('private')">
        ç§å¯†ç‰† <span class="lock-icon">ğŸ”’</span>
      </div>
    </div>
    
    <!-- å…¬é–‹ç‰†å…§å®¹ -->
    <div id="public-wall">
      <div class="post-card" data-visible="all">
        <div class="post-avatar">é™³</div>
        <div class="post-body">
          <div class="post-header">
            <span class="post-author">é™³å°å§</span>
            <span class="post-badge resident">12F ä½æˆ¶</span>
            <span class="post-time">2å°æ™‚å‰</span>
          </div>
          <div class="post-content">
            <b>æœ‰äººè¦åœ˜è³¼æƒåœ°æ©Ÿå—ï¼ŸğŸ¤–</b><br>
            é€™æ¬¾ iRobot æ‰“æŠ˜ï¼Œæ»¿ 5 å°æœ‰åœ˜è³¼åƒ¹ï½
          </div>
          <div class="post-stats">
            <span class="post-stat">â¤ï¸ 31</span>
            <span class="post-stat">ğŸ’¬ 14</span>
          </div>
          <div class="post-actions">
            <button class="action-btn">â¤ï¸ è®š</button>
            <button class="action-btn">ğŸ’¬ å›è¦†</button>
          </div>
        </div>
      </div>

      <div class="post-card" data-visible="all">
        <div class="post-avatar agent">æ¸¸</div>
        <div class="post-body">
          <div class="post-header">
            <span class="post-author">æ¸¸æ°å€«</span>
            <span class="post-badge agent">èªè­‰æˆ¿ä»²</span>
            <span class="post-time">æ˜¨å¤©</span>
          </div>
          <div class="post-content">
            <b>ğŸ¡ æƒ å®‡ä¸Šæ™´ 12Fï½œé›™é™½å°è¦–é‡æˆ¶</b><br>
            å®¢å»³å…‰ç·šå¾ˆå¥½ï¼Œä¸Šé€±å±‹ä¸»å‰›é™åƒ¹ 50 è¬ï¼Œæœ‰èˆˆè¶£å¯ç§è¨Šã€‚
          </div>
          <div class="post-stats">
            <span class="post-stat">ğŸ‘ï¸ 89</span>
            <span class="post-stat">ğŸ’¬ 5</span>
          </div>
          <div class="post-actions">
            <button class="action-btn">ğŸ“© ç§è¨Šæˆ¿ä»²</button>
          </div>
        </div>
      </div>

      <!-- ç¬¬ä¸‰å‰‡ï¼ˆéæœƒå“¡æ¨¡ç³Šï¼‰-->
      <div class="blur-overlay" data-visible="member">
        <div class="post-card blur-content">
          <div class="post-avatar">æ</div>
          <div class="post-body">
            <div class="post-header">
              <span class="post-author">æå…ˆç”Ÿ</span>
              <span class="post-badge resident">8F ä½æˆ¶</span>
            </div>
            <div class="post-content">
              åœè»Šä½äº¤æµ ğŸš— æˆ‘æœ‰ B2-128 æƒ³èˆ‡ B1 äº¤æ›...
            </div>
          </div>
        </div>
        <div class="blur-cta" id="posts-blur-cta">
          <h4>ğŸ”’ é‚„æœ‰ 12 å‰‡ç†±å¸–</h4>
          <p>ç™»å…¥å¾ŒæŸ¥çœ‹å®Œæ•´ç¤¾å€å‹•æ…‹</p>
          <button onclick="showLoginModal()">å…è²»è¨»å†Š / ç™»å…¥</button>
        </div>
      </div>
    </div>

    <!-- ç§å¯†ç‰†å…§å®¹ï¼ˆé è¨­éš±è—ï¼‰-->
    <div id="private-wall" style="display:none">
      <div class="private-lock" id="private-lock">
        <div class="lock-icon-big">ğŸ”</div>
        <h4>ç§å¯†ç‰†åƒ…é™æœ¬ç¤¾å€ä½æˆ¶æŸ¥çœ‹</h4>
        <p>é©—è­‰ä½æˆ¶èº«ä»½å¾Œå³å¯åŠ å…¥è¨è«–</p>
        <button onclick="showVerifyModal()">æˆ‘æ˜¯ä½æˆ¶ï¼Œé©—è­‰èº«ä»½</button>
      </div>

      <!-- ä½æˆ¶çœ‹åˆ°çš„ç§å¯†ç‰†å…§å®¹ -->
      <div id="private-content" style="display:none">
        <div class="post-card">
          <div class="post-avatar">ç®¡</div>
          <div class="post-body">
            <div class="post-header">
              <span class="post-author">ç®¡å§”æœƒ</span>
              <span class="post-badge verified">å®˜æ–¹å…¬å‘Š</span>
              <span class="post-time">3å¤©å‰</span>
            </div>
            <div class="post-content">
              <b>ğŸ“¢ å¹´åº¦æ¶ˆé˜²æ¼”ç·´é€šçŸ¥</b><br>
              12/15ï¼ˆæ—¥ï¼‰ä¸Šåˆ 10:00 å°‡é€²è¡Œå…¨ç¤¾å€æ¶ˆé˜²æ¼”ç·´ï¼Œå±Šæ™‚è­¦å ±å™¨æœƒéŸ¿ï¼Œè«‹å‹¿é©šæ…Œã€‚
            </div>
          </div>
        </div>
        <div class="post-card">
          <div class="post-avatar">ç‹</div>
          <div class="post-body">
            <div class="post-header">
              <span class="post-author">15F ä½æˆ¶</span>
              <span class="post-time">1é€±å‰</span>
            </div>
            <div class="post-content">
              æƒ³å•å¤§å®¶è¦ºå¾—ç®¡ç†è²»èª¿æ¼²åˆç†å—ï¼Ÿå¾ 2,800 èª¿åˆ° 3,200ï¼Œæ¼²å¹…æœ‰é»å¤§...
            </div>
            <div class="post-stats">
              <span class="post-stat">ğŸ’¬ 28</span>
              <span class="post-stat">ğŸ”’ åƒ…ç¤¾å€å¯è¦‹</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- å€å¡ŠäºŒï¼šç¤¾å€è©•åƒ¹ -->
  <section class="section" id="reviews-section">
    <div class="section-header">
      <h2 class="section-title">â­ ç¤¾å€è©•åƒ¹</h2>
      <span class="section-sub">ä¾†è‡ªçœŸå¯¦æˆ¿ä»²çš„ã€Œå…©å¥½ä¸€å…¬é“ã€</span>
    </div>

    <div class="review-card" data-visible="all">
      <div class="review-header">
        <div class="review-avatar">æ¸¸</div>
        <div class="review-meta">
          <div class="review-author">æ¸¸æ°å€«ï½œ21ä¸–ç´€</div>
          <div class="review-sub">å¸¶çœ‹ 12 æ¬¡ Â· æˆäº¤ 3 æˆ¶</div>
        </div>
      </div>
      <div class="review-content">
        <div class="review-item"><span class="review-icon">âœ…</span><span class="review-text">å…¬è¨­ç¶­è­·å¾—ä¹¾æ·¨ï¼Œå‡æ—¥è‰çš®æœ‰äººæ•´ç†</span></div>
        <div class="review-item"><span class="review-icon">âœ…</span><span class="review-text">åæ˜ åœè»Šå‹•ç·šï¼Œç®¡å§”æœƒä¸€é€±å…§å°±å…¬å‘Šæ”¹å–„</span></div>
        <div class="review-item"><span class="review-icon">âš–ï¸</span><span class="review-text">é¢å‘å¤§é¦¬è·¯ä½æ¨“å±¤è»Šè²æ˜é¡¯ï¼Œå–œéœè€…é¸ä¸­é«˜æ¨“å±¤</span></div>
      </div>
    </div>

    <div class="review-card" data-visible="all">
      <div class="review-header">
        <div class="review-avatar">æ—</div>
        <div class="review-meta">
          <div class="review-author">æ—ç¾ç²ï½œä¿¡ç¾©æˆ¿å±‹</div>
          <div class="review-sub">å¸¶çœ‹ 8 æ¬¡ Â· æˆäº¤ 2 æˆ¶</div>
        </div>
      </div>
      <div class="review-content">
        <div class="review-item"><span class="review-icon">âœ…</span><span class="review-text">é ‚æ¨“æ’æ°´è¨­è¨ˆä¸éŒ¯ï¼Œé¢±é¢¨å¤©ä¹Ÿæ²’æœ‰ç©æ°´å•é¡Œ</span></div>
        <div class="review-item"><span class="review-icon">âœ…</span><span class="review-text">ä¸­åº­èŠ±åœ’ç¶­è­·ç”¨å¿ƒï¼Œä½æˆ¶åæ‡‰éƒ½å¾ˆæ­£é¢</span></div>
        <div class="review-item"><span class="review-icon">âš–ï¸</span><span class="review-text">åƒåœ¾è»Šæ™‚é–“ç¨æ™šï¼Œå®¶è£¡å¶çˆ¾æœƒæœ‰ä¸‹æ°´é“å‘³</span></div>
      </div>
    </div>

    <!-- ç¬¬ä¸‰å‰‡ï¼ˆéæœƒå“¡æ¨¡ç³Šï¼‰-->
    <div class="blur-overlay" data-visible="member" id="reviews-blur">
      <div class="review-card blur-content">
        <div class="review-header">
          <div class="review-avatar">é™³</div>
          <div class="review-meta">
            <div class="review-author">é™³***ï½œæ°¸æ…¶æˆ¿å±‹</div>
          </div>
        </div>
        <div class="review-content">
          <div class="review-item"><span class="review-icon">âœ…</span><span class="review-text">ç®¡ç†å“¡æœå‹™æ…‹åº¦å¾ˆå¥½...</span></div>
        </div>
      </div>
      <div class="blur-cta" id="reviews-blur-cta">
        <h4>ğŸ”’ é‚„æœ‰ 3 å‰‡è©•åƒ¹</h4>
        <p>è¨»å†Šæœƒå“¡çœ‹å…¨éƒ¨æˆ¿ä»²çœŸå¯¦è©•åƒ¹</p>
        <button onclick="showLoginModal()">å…è²»è¨»å†Š / ç™»å…¥</button>
      </div>
    </div>
  </section>

  <!-- å€å¡Šä¸‰ï¼šæº–ä½æˆ¶å•ç­” -->
  <section class="section" id="qa-section">
    <div class="section-header">
      <h2 class="section-title">ğŸ™‹ æº–ä½æˆ¶å•ç­”</h2>
      <span class="section-sub">è²·æˆ¿å‰ï¼Œå…ˆå•å•é„°å±…æ€éº¼èªª</span>
    </div>

    <div class="qa-card" data-visible="all">
      <div class="qa-question">Q: è«‹å•ç¤¾å€åœè»Šä½å¥½åœå—ï¼Ÿæœƒä¸æœƒå¸¸å®¢æ»¿ï¼Ÿ</div>
      <div class="qa-meta">
        <span>ğŸ‘¤ æº–ä½æˆ¶</span>
        <span>Â· 2å¤©å‰</span>
        <span>Â· 3 å‰‡å›è¦†</span>
      </div>
      <div class="qa-answers">
        <div class="qa-answer">
          <div class="qa-answer-header">
            <span class="qa-answer-badge" style="background:#e8faef;color:#0e8d52">ğŸ  8F ä½æˆ¶</span>
          </div>
          å¹³æ—¥ç™½å¤©éƒ½æœ‰ä½ï¼Œå‡æ—¥å¶çˆ¾è¦ç­‰ä¸€ä¸‹ï¼Œä½†ä¸æœƒå¤ªä¹…ã€‚
        </div>
        <div class="qa-answer">
          <div class="qa-answer-header">
            <span class="qa-answer-badge" style="background:#e8faef;color:#0e8d52">ğŸ  12F ä½æˆ¶</span>
          </div>
          B2 æ¯”è¼ƒå®¹æ˜“æœ‰ä½ï¼ŒB1 è¦ç¢°é‹æ°£ã€‚
        </div>
      </div>
    </div>

    <div class="qa-card" data-visible="all">
      <div class="qa-question">Q: æ™šä¸Šæœƒä¸æœƒå¾ˆåµï¼Ÿæˆ‘çœ‹ç‰©ä»¶æ™‚æ˜¯ç™½å¤©</div>
      <div class="qa-meta">
        <span>ğŸ‘¤ æº–ä½æˆ¶</span>
        <span>Â· 5å¤©å‰</span>
        <span>Â· 2 å‰‡å›è¦†</span>
      </div>
      <div class="qa-answers" data-visible="member">
        <div class="qa-answer blur-content">
          <div class="qa-answer-header">
            <span class="qa-answer-badge" style="background:#e8faef;color:#0e8d52">ğŸ  3F ä½æˆ¶</span>
          </div>
          é¢å¤§é¦¬è·¯é‚£å´ç¢ºå¯¦æœ‰è»Šè²...
        </div>
      </div>
      <div class="blur-cta" id="qa-blur-cta" style="position:relative;background:rgba(255,255,255,.9);padding:12px;border-radius:8px;margin-top:8px">
        <p style="font-size:11px;color:var(--text-secondary);margin:0">ğŸ”’ ç™»å…¥æŸ¥çœ‹å®Œæ•´å›è¦†</p>
      </div>
    </div>

    <div class="qa-card" style="background:rgba(0,56,90,.03);border-style:dashed">
      <div class="qa-question" style="color:var(--text-secondary)">ğŸ’¬ ä½ ä¹Ÿæœ‰å•é¡Œæƒ³å•ï¼Ÿ</div>
      <p style="font-size:12px;color:var(--text-secondary);margin:8px 0">å•é¡Œæœƒé€šçŸ¥è©²ç¤¾å€ä½æˆ¶ï¼Œé€šå¸¸ 24 å°æ™‚å…§æœƒæœ‰å›è¦†</p>
      <button class="action-btn" style="width:100%;justify-content:center" onclick="showLoginModal()">æˆ‘æƒ³å•å•é¡Œ</button>
    </div>
  </section>

</main>

<!-- èº«ä»½åˆ‡æ›å™¨ï¼ˆMock ç”¨ï¼‰-->
<div class="role-switcher">
  <button class="role-switcher-btn" onclick="toggleRoleSwitcher()">
    ğŸ•¶ï¸ <span id="current-role">è¨ªå®¢æ¨¡å¼</span> â–¾
  </button>
  <div class="role-switcher-menu" id="role-menu">
    <button class="active" data-role="guest" onclick="switchRole('guest')">ğŸ‘¤ è¨ªå®¢ï¼ˆæœªç™»å…¥ï¼‰</button>
    <button data-role="member" onclick="switchRole('member')">ğŸ‘¥ ä¸€èˆ¬æœƒå“¡</button>
    <button data-role="resident" onclick="switchRole('resident')">ğŸ  å·²é©—è­‰ä½æˆ¶</button>
    <button data-role="agent" onclick="switchRole('agent')">ğŸ¢ èªè­‰æˆ¿ä»²</button>
  </div>
</div>

<!-- å›ºå®šåº•éƒ¨ CTAï¼ˆè¨ªå®¢é¡¯ç¤ºï¼‰-->
<div class="fixed-bottom-cta" id="bottom-cta">
  <p>ğŸ”“ ç™»å…¥è§£é–ç§å¯†ç‰† + å®Œæ•´è©•åƒ¹</p>
  <button onclick="showLoginModal()">å…è²»è¨»å†Š</button>
</div>

<script>
// ============================
// ç‹€æ…‹ç®¡ç†
// ============================
let currentRole = 'guest'; // guest | member | resident | agent
let currentWall = 'public'; // public | private

// Mock ç¤¾å€ IDï¼ˆå¯¦éš›æ¥ API æ™‚ç”¨ URL åƒæ•¸ï¼‰
const COMMUNITY_ID = 'mock-community-001';

// ============================
// èº«ä»½åˆ‡æ›ï¼ˆMockï¼‰
// ============================
function toggleRoleSwitcher() {
  document.getElementById('role-menu').classList.toggle('open');
}

function switchRole(role) {
  currentRole = role;
  
  // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
  document.querySelectorAll('.role-switcher-menu button').forEach(btn => {
    btn.classList.toggle('active', btn.dataset.role === role);
  });
  
  // æ›´æ–°é¡¯ç¤ºæ–‡å­—
  const roleNames = {
    guest: 'è¨ªå®¢æ¨¡å¼',
    member: 'æœƒå“¡æ¨¡å¼',
    resident: 'ä½æˆ¶æ¨¡å¼',
    agent: 'æˆ¿ä»²æ¨¡å¼'
  };
  document.getElementById('current-role').textContent = roleNames[role];
  
  // é—œé–‰é¸å–®
  document.getElementById('role-menu').classList.remove('open');
  
  // æ›´æ–° UI
  updateUIByRole();
}

function updateUIByRole() {
  const isGuest = currentRole === 'guest';
  const isMember = ['member', 'resident', 'agent'].includes(currentRole);
  const isResident = currentRole === 'resident';
  const isAgent = currentRole === 'agent';
  const canAccessPrivate = isResident || isAgent;
  
  // åº•éƒ¨ CTA
  document.getElementById('bottom-cta').classList.toggle('hidden', isMember);
  
  // æ¨¡ç³Šé®ç½©
  document.querySelectorAll('.blur-overlay').forEach(el => {
    const blurCta = el.querySelector('.blur-cta');
    const blurContent = el.querySelector('.blur-content');
    if (isMember) {
      if (blurCta) blurCta.style.display = 'none';
      if (blurContent) blurContent.classList.remove('blur-content');
    } else {
      if (blurCta) blurCta.style.display = 'flex';
      if (blurContent) blurContent.classList.add('blur-content');
    }
  });
  
  // QA blur
  const qaBlur = document.getElementById('qa-blur-cta');
  if (qaBlur) qaBlur.style.display = isMember ? 'none' : 'block';
  
  // ç§å¯†ç‰†
  updatePrivateWall(canAccessPrivate);
  
  // ç§å¯†ç‰† Tab é–å®šç‹€æ…‹
  const privateTab = document.querySelector('.tab[data-wall="private"]');
  if (privateTab) {
    privateTab.classList.toggle('locked', !canAccessPrivate);
  }
}

// ============================
// ç‰†åˆ‡æ›
// ============================
function switchWall(wall) {
  currentWall = wall;
  
  // æ›´æ–° Tab ç‹€æ…‹
  document.querySelectorAll('#wall-tabs .tab').forEach(tab => {
    tab.classList.toggle('active', tab.dataset.wall === wall);
  });
  
  // åˆ‡æ›å…§å®¹
  document.getElementById('public-wall').style.display = wall === 'public' ? 'block' : 'none';
  document.getElementById('private-wall').style.display = wall === 'private' ? 'block' : 'none';
  
  // å¦‚æœåˆ‡åˆ°ç§å¯†ç‰†ï¼Œæª¢æŸ¥æ¬Šé™
  if (wall === 'private') {
    const canAccess = ['resident', 'agent'].includes(currentRole);
    updatePrivateWall(canAccess);
  }
}

function updatePrivateWall(canAccess) {
  document.getElementById('private-lock').style.display = canAccess ? 'none' : 'flex';
  document.getElementById('private-content').style.display = canAccess ? 'block' : 'none';
}

// ============================
// Modalï¼ˆç°¡æ˜“ç‰ˆï¼‰
// ============================
function showLoginModal() {
  alert('ğŸ” ç™»å…¥/è¨»å†Š\n\né€™è£¡æœƒè·³å‡ºç™»å…¥è¦–çª—\nï¼ˆå¯¦éš›æ¥ Supabase Authï¼‰');
}

function showVerifyModal() {
  alert('ğŸ  ä½æˆ¶é©—è­‰\n\nè«‹ä¸Šå‚³æ°´é›»å¸³å–®æˆ–ç®¡ç†è²»æ”¶æ“š\næˆ–è¼¸å…¥ç¤¾å€å°ˆå±¬é©—è­‰ç¢¼');
}

// ============================
// API æ¥å£ï¼ˆçœŸå¯¦è³‡æ–™ï¼‰
// ============================
const API = {
  // å–å¾—ç¤¾å€è²¼æ–‡
  async getPosts(communityId, visibility = 'public', limit = 10) {
    // Mock æ¨¡å¼ç›´æ¥è¿”å›
    if (typeof supabase === 'undefined') {
      console.log('[Mock] getPosts:', { communityId, visibility, limit });
      return { data: [], error: null };
    }
    
    let query = supabase
      .from('community_posts')
      .select('*')
      .eq('community_id', communityId)
      .order('created_at', { ascending: false })
      .limit(limit);
    
    if (visibility === 'public') {
      query = query.eq('visibility', 'public');
    } else if (visibility === 'private') {
      query = query.eq('visibility', 'private');
    }
    
    return await query;
  },
  
  // å–å¾—ç¤¾å€è©•åƒ¹
  async getReviews(communityId, limit = 10) {
    if (typeof supabase === 'undefined') {
      console.log('[Mock] getReviews:', { communityId, limit });
      return { data: [], error: null };
    }
    
    return await supabase
      .from('community_reviews')
      .select('*')
      .eq('community_id', communityId)
      .order('created_at', { ascending: false })
      .limit(limit);
  },
  
  // å–å¾—æº–ä½æˆ¶å•ç­”
  async getQuestions(communityId, limit = 5) {
    if (typeof supabase === 'undefined') {
      console.log('[Mock] getQuestions:', { communityId, limit });
      return { data: [], error: null };
    }
    
    return await supabase
      .from('community_questions')
      .select(`
        *,
        answers:community_answers(*)
      `)
      .eq('community_id', communityId)
      .order('created_at', { ascending: false })
      .limit(limit);
  },
  
  // ç™¼å¸ƒè²¼æ–‡
  async createPost(communityId, content, visibility = 'public') {
    if (typeof supabase === 'undefined') {
      console.log('[Mock] createPost:', { communityId, content, visibility });
      return { data: { id: 'mock-post-id' }, error: null };
    }
    
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return { data: null, error: { message: 'è«‹å…ˆç™»å…¥' } };
    
    return await supabase
      .from('community_posts')
      .insert({
        community_id: communityId,
        author_id: user.id,
        content,
        visibility
      })
      .select()
      .single();
  },
  
  // ç™¼å¸ƒå•é¡Œ
  async createQuestion(communityId, question) {
    if (typeof supabase === 'undefined') {
      console.log('[Mock] createQuestion:', { communityId, question });
      return { data: { id: 'mock-question-id' }, error: null };
    }
    
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return { data: null, error: { message: 'è«‹å…ˆç™»å…¥' } };
    
    return await supabase
      .from('community_questions')
      .insert({
        community_id: communityId,
        author_id: user.id,
        question
      })
      .select()
      .single();
  },
  
  // å›ç­”å•é¡Œ
  async createAnswer(questionId, answer, authorType = 'resident') {
    if (typeof supabase === 'undefined') {
      console.log('[Mock] createAnswer:', { questionId, answer, authorType });
      return { data: { id: 'mock-answer-id' }, error: null };
    }
    
    const { data: { user } } = await supabase.auth.getUser();
    if (!user) return { data: null, error: { message: 'è«‹å…ˆç™»å…¥' } };
    
    return await supabase
      .from('community_answers')
      .insert({
        question_id: questionId,
        author_id: user.id,
        answer,
        author_type: authorType
      })
      .select()
      .single();
  }
};

// ============================
// åˆå§‹åŒ–
// ============================
document.addEventListener('DOMContentLoaded', () => {
  updateUIByRole();
  
  // é»æ“Šå¤–éƒ¨é—œé–‰é¸å–®
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.role-switcher')) {
      document.getElementById('role-menu').classList.remove('open');
    }
  });
  
  console.log('âœ… ç¤¾å€ç‰†åˆå§‹åŒ–å®Œæˆ');
  console.log('ğŸ“Œ ç•¶å‰æ¨¡å¼: Mockï¼ˆç„¡ Supabaseï¼‰');
  console.log('ğŸ”§ åˆ‡æ›èº«ä»½: é»æ“Šå³ä¸‹è§’ [ğŸ•¶ï¸ è¨ªå®¢æ¨¡å¼]');
});
</script>
</body>
</html>
