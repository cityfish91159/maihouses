# AI åŸ·è¡Œå¼·åˆ¶è¦ç¯„ (Mandatory Execution Standards)

> **è­¦å‘Šï¼šæœ¬æ–‡ä»¶å®šç¾© AI Agent å¿…é ˆéµå®ˆçš„æœ€é«˜è¦æ ¼åŸ·è¡Œæ¨™æº–ã€‚é•åä»»ä½•è¦å‰‡å°‡å°è‡´ä»»å‹™å¤±æ•—ã€‚**

---

## ğŸš¨ æ ¸å¿ƒåŸå‰‡ (Core Principles)

### çµ•å°ç¦æ­¢ (NEVER DO)

1. **ç¦æ­¢ä¾¿å®œè¡Œäº‹** - ä¸å¯ç”¨ç°¡å–®ä½†éŒ¯èª¤çš„æ–¹æ¡ˆæ•·è¡
2. **ç¦æ­¢è·³éæ­¥é©Ÿ** - å¿…é ˆæŒ‰é †åºå®Œæˆæ¯å€‹æ­¥é©Ÿ
3. **ç¦æ­¢è…¦è£œéœ€æ±‚** - ä¸æ¸…æ¥šå°±å•ï¼Œä¸å¯å‡è¨­ç”¨æˆ¶æ„åœ–
4. **ç¦æ­¢å·æ‡¶çœç•¥** - éŒ¯èª¤è™•ç†ã€é¡å‹å®šç¾©ã€æ¸¬è©¦ä¸€å€‹éƒ½ä¸èƒ½å°‘
5. **ç¦æ­¢äº‚è®€æª”æ¡ˆ** - å¿…é ˆè®€æ­£ç¢ºçš„ç›¸é—œæª”æ¡ˆï¼Œä¸æ˜¯éš¨ä¾¿æ‰¾æª”æ¡ˆæ•·è¡

### çµ•å°å¿…é ˆ (ALWAYS DO)

1. **å…ˆæœå°‹å·¥å…·** - é¢å°è¤‡é›œä»»å‹™æ™‚ï¼Œå…ˆæœå°‹ Skills Marketplace æ‰¾å°ˆæ¥­å·¥å…·
2. **å…ˆè®€å¾Œå¯«** - ä¿®æ”¹ä»»ä½•æª”æ¡ˆå‰å¿…é ˆå…ˆ `Read` è©²æª”æ¡ˆ
3. **è®€å°æª”æ¡ˆ** - å¿…é ˆè®€å–æ‰€æœ‰ç›¸é—œçš„å‰ç«¯ã€å¾Œç«¯ã€é¡å‹å®šç¾©æª”æ¡ˆ
4. **å…ˆè¨ˆç•«å¾ŒåŸ·è¡Œ** - ç”¨ `TodoWrite` åˆ—å‡ºæ‰€æœ‰æ­¥é©Ÿå†å‹•æ‰‹
5. **é‚Šåšé‚Šé©—è­‰** - æ¯å®Œæˆä¸€æ­¥å°±æª¢æŸ¥ï¼Œä¸è¦ç­‰åˆ°æœ€å¾Œ
6. **å®Œæ•´å›å ±** - åšäº†ä»€éº¼ã€ç‚ºä»€éº¼é€™æ¨£åšã€å¦‚ä½•é©—è­‰

---

## ğŸ“– å¼·åˆ¶é–±è®€è¦ç¯„ (Mandatory Reading Rules)

### ä¿®æ”¹ä»»ä½•æª”æ¡ˆå‰ï¼Œå¿…é ˆå…ˆé–±è®€ï¼š

```
è¦ä¿®æ”¹çš„æª”æ¡ˆæœ¬èº«
    â”‚
    â”œâ”€â”€ è©²æª”æ¡ˆ import çš„æ‰€æœ‰æ¨¡çµ„
    â”‚
    â”œâ”€â”€ ç›¸é—œçš„é¡å‹å®šç¾©æª”æ¡ˆ (types.ts, *.d.ts)
    â”‚
    â”œâ”€â”€ ç›¸é—œçš„ API/æœå‹™å±¤æª”æ¡ˆ
    â”‚
    â”œâ”€â”€ ç›¸é—œçš„ hooks å’Œ context
    â”‚
    â””â”€â”€ ç›¸é—œçš„æ¸¬è©¦æª”æ¡ˆ
```

### ç¯„ä¾‹ï¼šä¿®æ”¹ `src/pages/Login.tsx` å‰å¿…é ˆé–±è®€

```
å¿…è®€æª”æ¡ˆæ¸…å–®ï¼š
â”œâ”€â”€ src/pages/Login.tsx           â† è¦ä¿®æ”¹çš„æª”æ¡ˆæœ¬èº«
â”œâ”€â”€ src/types/auth.ts             â† ç›¸é—œé¡å‹å®šç¾©
â”œâ”€â”€ src/api/auth.ts               â† ç›¸é—œ API å‘¼å«
â”œâ”€â”€ src/hooks/useAuth.ts          â† ç›¸é—œ hooks
â”œâ”€â”€ src/context/AuthContext.tsx   â† ç›¸é—œ context
â”œâ”€â”€ src/components/LoginForm.tsx  â† ç›¸é—œçµ„ä»¶
â””â”€â”€ src/utils/validation.ts       â† ç›¸é—œå·¥å…·å‡½æ•¸
```

### âŒ ç¦æ­¢çš„è¡Œç‚º

```
âŒ ç›´æ¥é–‹å§‹ Editï¼Œæ²’æœ‰å…ˆ Read
âŒ åªè®€è¦ä¿®æ”¹çš„æª”æ¡ˆï¼Œä¸è®€ç›¸é—œæª”æ¡ˆ
âŒ éš¨ä¾¿æ‰¾ä¸€äº›æª”æ¡ˆè®€ï¼Œå‡è£æœ‰åœ¨çœ‹
âŒ è®€äº†ä½†æ²’ç†è§£å°±é–‹å§‹æ”¹
âŒ è·³éé¡å‹å®šç¾©æª”æ¡ˆ
âŒ è·³é API/æœå‹™å±¤æª”æ¡ˆ
```

---

## ğŸ“‹ ä»»å‹™åŸ·è¡Œæµç¨‹ (Task Execution Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ä¸€æ­¥ï¼šç†è§£éœ€æ±‚                                             â”‚
â”‚ - å®Œæ•´é–±è®€ç”¨æˆ¶éœ€æ±‚                                          â”‚
â”‚ - ä¸æ¸…æ¥šçš„åœ°æ–¹å¿…é ˆè©¢å•                                       â”‚
â”‚ - åˆ—å‡ºæ‰€æœ‰éœ€è¦å®Œæˆçš„äº‹é …                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ä¸€æ­¥ä¹‹ä¸€ï¼šæœå°‹å°ˆæ¥­å·¥å…· (å¦‚æœéœ€è¦)                          â”‚
â”‚ - åˆ¤æ–·ä»»å‹™è¤‡é›œåº¦ï¼ˆæ¸¬è©¦/éƒ¨ç½²/æ–‡æª”/è³‡æ–™è™•ç†ç­‰ï¼‰                â”‚
â”‚ - ä½¿ç”¨ skill-marketplace æœå°‹ 38,000+ å°ˆæ¥­å·¥å…·               â”‚
â”‚ - è©•ä¼°ä¸¦é¸æ“‡æœ€é©åˆçš„ Skill                                   â”‚
â”‚ - å®‰è£ä¸¦æº–å‚™ä½¿ç”¨è©² Skill                                     â”‚
â”‚ âš ï¸ è¤‡é›œä»»å‹™å¿…é ˆå…ˆæœå°‹å·¥å…·ï¼Œä¸å¯ç›´æ¥ç¡¬å¯«                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬äºŒæ­¥ï¼šè­˜åˆ¥ç›¸é—œæª”æ¡ˆ                                         â”‚
â”‚ - åˆ—å‡ºæ‰€æœ‰éœ€è¦ä¿®æ”¹çš„æª”æ¡ˆ                                     â”‚
â”‚ - åˆ—å‡ºæ‰€æœ‰éœ€è¦é–±è®€çš„ç›¸é—œæª”æ¡ˆ                                 â”‚
â”‚ - ç¢ºèªå‰ç«¯ã€å¾Œç«¯ã€é¡å‹å®šç¾©éƒ½æœ‰æ¶µè“‹                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬ä¸‰æ­¥ï¼šå®Œæ•´é–±è®€æ‰€æœ‰ç›¸é—œä»£ç¢¼                                 â”‚
â”‚ - Read æ‰€æœ‰è¦ä¿®æ”¹çš„æª”æ¡ˆ                                      â”‚
â”‚ - Read æ‰€æœ‰ç›¸é—œçš„ä¾è³´æª”æ¡ˆ                                    â”‚
â”‚ - ç†è§£ç¾æœ‰çš„æ¶æ§‹ã€æ¨¡å¼ã€é¡å‹                                 â”‚
â”‚ - ç¢ºèªä¿®æ”¹ä½ç½®å’Œå½±éŸ¿ç¯„åœ                                     â”‚
â”‚ âš ï¸ æ²’æœ‰å®Œæˆé€™æ­¥ï¼Œç¦æ­¢é€²è¡Œä¸‹ä¸€æ­¥                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬å››æ­¥ï¼šè¦åŠƒä»»å‹™ (ä½¿ç”¨ TodoWrite)                            â”‚
â”‚ - åˆ†è§£æˆå…·é«”å¯é©—è­‰çš„æ­¥é©Ÿ                                     â”‚
â”‚ - æ¯å€‹æ­¥é©Ÿä¸è¶…é 15 åˆ†é˜å·¥ä½œé‡                               â”‚
â”‚ - æ¨™è¨»æ¯å€‹æ­¥é©Ÿçš„é©—è­‰æ–¹å¼                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬äº”æ­¥ï¼šé€æ­¥åŸ·è¡Œ                                             â”‚
â”‚ - ä¸€æ¬¡åªåšä¸€å€‹æ­¥é©Ÿ                                          â”‚
â”‚ - å®Œæˆå¾Œç«‹å³æ¨™è¨˜ completed                                   â”‚
â”‚ - é‡åˆ°å•é¡Œç«‹å³å›å ±ï¼Œä¸å¯ç¹é                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬å…­æ­¥ï¼šé©—è­‰çµæœ                                             â”‚
â”‚ - npm run typecheck (é¡å‹æª¢æŸ¥)                               â”‚
â”‚ - npm run lint (ä»£ç¢¼é¢¨æ ¼)                                    â”‚
â”‚ - npm test (å–®å…ƒæ¸¬è©¦)                                        â”‚
â”‚ - npm run build (æ§‹å»ºæª¢æŸ¥)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš ï¸ ä»£ç¢¼å“è³ªæ¨™æº– (Code Quality Standards)

### TypeScript/React å¿…é ˆéµå®ˆ

```typescript
// âŒ ç¦æ­¢ - ä¾¿å®œè¡Œäº‹
const data: any = fetchData();
const handleClick = (e: any) => {};
function process(input: any): any {}

// âœ… æ­£ç¢º - æœ€é«˜è¦æ ¼
interface UserData {
  id: string;
  name: string;
  email: string;
}
const data: UserData = fetchData();
const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {};
function process(input: ProcessInput): ProcessOutput {}
```

```typescript
// âŒ ç¦æ­¢ - å·æ‡¶çœç•¥éŒ¯èª¤è™•ç†
const fetchUser = async (id: string) => {
  const res = await fetch(`/api/user/${id}`);
  return res.json();
};

// âœ… æ­£ç¢º - å®Œæ•´éŒ¯èª¤è™•ç†
const fetchUser = async (id: string): Promise<User> => {
  try {
    const res = await fetch(`/api/user/${id}`);
    if (!res.ok) {
      throw new Error(`Failed to fetch user: ${res.status}`);
    }
    return res.json();
  } catch (error) {
    console.error("fetchUser error:", error);
    throw error;
  }
};
```

### ç¦æ­¢æ¸…å–® (Prohibited Patterns)

| æ¨¡å¼             | åŸå›            | æ›¿ä»£æ–¹æ¡ˆ                |
| ---------------- | -------------- | ----------------------- |
| `: any`          | å¤±å»é¡å‹å®‰å…¨   | å®šç¾©å…·é«” interface/type |
| `console.log`    | ç”Ÿç”¢ç’°å¢ƒä¸æ‡‰æœ‰ | ä½¿ç”¨æ­£å¼ logger æˆ–ç§»é™¤  |
| `// @ts-ignore`  | éš±è—é¡å‹éŒ¯èª¤   | ä¿®å¾©æ ¹æœ¬å•é¡Œ            |
| `eslint-disable` | éš±è—ä»£ç¢¼å•é¡Œ   | ä¿®å¾©æ ¹æœ¬å•é¡Œ            |
| ç¡¬ç·¨ç¢¼å­—ä¸²/æ•¸å­—  | é›£ä»¥ç¶­è­·       | ä½¿ç”¨å¸¸æ•¸æˆ–é…ç½®          |
| è¶…é 50 è¡Œçš„å‡½æ•¸ | é›£ä»¥æ¸¬è©¦ç¶­è­·   | æ‹†åˆ†æˆå°å‡½æ•¸            |
| è¤‡è£½è²¼ä¸Šä»£ç¢¼     | é•å DRY åŸå‰‡  | æŠ½å–å…±ç”¨å‡½æ•¸            |

---

## ğŸ” è‡ªæˆ‘æª¢æŸ¥æ¸…å–® (Self-Check Checklist)

æ¯æ¬¡å®Œæˆä»»å‹™å‰ï¼ŒAI å¿…é ˆç¢ºèªï¼š

- [ ] æ‰€æœ‰ TodoWrite æ­¥é©Ÿéƒ½æ¨™è¨˜ç‚º completed
- [ ] æ²’æœ‰ä½¿ç”¨ `any` é¡å‹
- [ ] æ²’æœ‰ `console.log`ï¼ˆé™¤éæ˜¯ loggerï¼‰
- [ ] æ‰€æœ‰å‡½æ•¸éƒ½æœ‰éŒ¯èª¤è™•ç†
- [ ] è®Šæ•¸å‘½åæœ‰æ„ç¾©ï¼ˆä¸æ˜¯ a, b, x, tempï¼‰
- [ ] æ²’æœ‰è¶…é 50 è¡Œçš„å‡½æ•¸
- [ ] æ²’æœ‰é‡è¤‡ä»£ç¢¼
- [ ] éµå¾ªç¾æœ‰ä»£ç¢¼é¢¨æ ¼
- [ ] `npm run typecheck` é€šé
- [ ] `npm run lint` é€šé

---

## ğŸ“ å›å ±æ ¼å¼ (Report Format)

ä»»å‹™å®Œæˆæ™‚å¿…é ˆæä¾›ï¼š

```markdown
## å®Œæˆæ‘˜è¦

### ä¿®æ”¹çš„æª”æ¡ˆ

- `path/to/file1.tsx` - ä¿®æ”¹åŸå› 
- `path/to/file2.ts` - ä¿®æ”¹åŸå› 

### é©—è­‰çµæœ

- [x] TypeScript æª¢æŸ¥é€šé
- [x] ESLint æª¢æŸ¥é€šé
- [x] å–®å…ƒæ¸¬è©¦é€šé
- [x] æ§‹å»ºæˆåŠŸ

### å¦‚ä½•æ¸¬è©¦

1. æ­¥é©Ÿä¸€
2. æ­¥é©ŸäºŒ
```

---

## ğŸš« é•è¦è™•ç† (Violation Handling)

å¦‚æœ AI é•åä»¥ä¸Šä»»ä½•è¦å‰‡ï¼š

1. ç«‹å³åœæ­¢ç•¶å‰æ“ä½œ
2. å›æ»¾åˆ°ä¸Šä¸€å€‹æ­£ç¢ºç‹€æ…‹
3. é‡æ–°æŒ‰ç…§æ­£ç¢ºæµç¨‹åŸ·è¡Œ
4. åœ¨å›å ±ä¸­èªªæ˜é•è¦åŸå› å’Œä¿®æ­£æ–¹å¼

---

**è¨˜ä½ï¼šå¯§å¯å¤šèŠ±æ™‚é–“åšå°ï¼Œä¹Ÿä¸è¦åœ–å¿«åšéŒ¯ã€‚å“è³ªæ°¸é å„ªå…ˆæ–¼é€Ÿåº¦ã€‚**
