/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* stylelint-enable at-rule-no-unknown */

:root {
  /* 新擬物風格色彩系統 */
  --brand: #1749D7;
  --bg: #EEF2F7;
  --ink: #0e1530;
  --muted: #6b7280;
  
  /* 新擬物陰影系統 */
  --shadow-neu-raised: 10px 10px 24px rgba(9,15,30,.16), -10px -10px 24px rgba(255,255,255,.9);
  --shadow-neu-inset: inset 8px 8px 16px rgba(9,15,30,.12), inset -8px -8px 16px rgba(255,255,255,.9);
  --shadow-neu-inset-subtle: inset 6px 6px 12px rgba(9,15,30,.08), inset -6px -6px 12px rgba(255,255,255,.8);
  --shadow-neu-button: 6px 6px 16px rgba(9,15,30,.18), -4px -4px 12px rgba(255,255,255,.8);
  --shadow-neu-pill: 8px 8px 18px rgba(9,15,30,.14), -8px -8px 18px rgba(255,255,255,.9);
  --shadow-neu-pill-active: inset 6px 6px 12px rgba(9,15,30,.14), inset -6px -6px 12px rgba(255,255,255,.9);
  --shadow-neu-badge: inset 4px 4px 10px rgba(9,15,30,.08), inset -4px -4px 10px rgba(255,255,255,.85);
  
  /* 品牌色 - 保留舊變數以兼容 */
  --brand-primary: #1749D7;
  --brand-600: #1550C0;
  --brand-light: #6aa4ff;
  --brand-lighter: #eef3ff;
  --brand-fg: #FFFFFF;
  
  /* 漸層 */
  --gradient-button: linear-gradient(135deg, #1749D7 0%, #1550C0 100%);
  --gradient-ask: linear-gradient(135deg, #f0f4ff 0%, #e8f0fe 100%);
  
  /* 中性色 */
  --neutral-50: #f9fafb;
  --neutral-100: #f3f4f6;
  --neutral-800: #1f2937;
  --neutral-900: #111827;
  
  /* 背景色 */
  --bg-page: #EEF2F7;
  --bg-card: #EEF2F7;
  --bg-card-hero: #EEF2F7;
  
  /* 文字色 */
  --text-primary: #0e1530;
  --text-secondary: #6b7280;
  --text-tertiary: #8a95a5;
  
  /* 圓角系統 - 新擬物風格 */
  --r-sm: 12px;
  --r-md: 16px;
  --r-lg: 20px;
  --r-xl: 28px;
  --r-2xl: 32px;
  --r-pill: 999px;
  
  /* 間距 */
  --sp-1: 4px;
  --sp-2: 8px;
  --sp-3: 12px;
  --sp-4: 16px;
  --sp-6: 24px;
  --sp-8: 32px;
  --sp-12: 48px;
  
  /* 字體尺寸 */
  --fs-xs: 12px;
  --fs-sm: 13px;
  --fs-md: 14px;
  --fs-base: 16px;
  --fs-lg: 18px;
  --fs-xl: 20px;
  --fs-2xl: 24px;
  --fs-3xl: 28px;
}

@layer base {
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #EEF2F7;
    color: var(--ink);
  }
}

/* 微動畫 - 增加活潑感 */
@keyframes pulse-subtle {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-4px); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* 保留舊語彙占位 - 移除空白規則集以符合 CSS 規範 */

/* ========================================
   舊版樣式移植 - Append Only
   不破壞現有 Tailwind 與組件樣式
   ======================================== */

/* 補充缺少的變數 */
:root {
  --gradient-badge: linear-gradient(135deg, #eef3ff, #d9e6ff);
  --old-brand: #1749D7;
  --old-accent: #4aa1ff;
  --old-muted: #6c7b91;
  --old-line: #e6edf7;
  --old-soft: #f7f9fe;
  --old-ink-dark: #0f1a39;
  --old-ink-mid: #243355;
}

/* 通用卡片容器（精確選擇器，避免破壞 Tailwind）*/
section.bg-white[class*="shadow"][class*="rounded"] {
  background: #fff;
  border: 1px solid var(--old-line);
  transition: all 0.3s ease;
}

section.bg-white[class*="shadow"][class*="rounded"]:hover {
  box-shadow: var(--shadow-neu-raised);
}

/* 標題列（section 內的 h3 + 說明文字）*/
section > h3 {
  color: var(--old-brand);
  font-weight: 900;
  letter-spacing: -0.01em;
}

section > h3 + p {
  color: var(--old-muted);
  line-height: 1.52;
}

/* AI 卡片特定樣式（SmartAsk）*/
section[class*="gradient-ask"] {
  background: var(--gradient-ask);
  border: 1px solid var(--old-line);
}

/* 快速輸入膠囊 */
section[class*="gradient-ask"] button[class*="rounded-"] {
  background: #fff;
  border: 1.5px solid var(--old-line);
  font-weight: 700;
  transition: all 0.2s ease;
}

section[class*="gradient-ask"] button[class*="rounded-"]:hover {
  border-color: var(--old-brand);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(23, 73, 215, 0.15);
}

/* 對話框容器 */
section[class*="gradient-ask"] div[class*="bg-white"][class*="rounded"] {
  border: 1px solid var(--old-line);
  box-shadow: var(--shadow-neu-inset-subtle);
}

/* 使用者訊息氣泡 */
section[class*="gradient-ask"] div[class*="gradient-button"] {
  background: var(--gradient-button);
  box-shadow: 0 2px 8px rgba(23, 73, 215, 0.2);
}

/* AI 回覆氣泡 */
section[class*="gradient-ask"] div[class*="neutral-100"] {
  background: var(--neutral-100);
  border: 1px solid var(--old-line);
}

/* 房源卡片與社區卡片網格 */
section article[class*="border-2"] {
  border-color: var(--old-line);
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

section article[class*="border-2"]:hover {
  border-color: var(--old-brand);
  box-shadow: 0 8px 20px rgba(23, 73, 215, 0.12);
  transform: translateY(-4px);
}

/* 封面圖 */
section article > div[class*="bg-cover"] {
  border-radius: var(--r-md);
  overflow: hidden;
}

/* 價格 */
section article div[class*="text-"][class*="brand"] {
  color: var(--old-brand);
  font-weight: 900;
}

/* 徽章 */
section article span[class*="gradient-badge"] {
  background: var(--gradient-badge);
  font-weight: 700;
  font-size: 10px;
  box-shadow: inset 2px 2px 6px rgba(9,15,30,.05), inset -2px -2px 6px rgba(255,255,255,.9);
}

/* 評分星號 */
section article span[class*="★"] {
  color: var(--old-brand);
  font-weight: 900;
}

/* RWD 微調（手機優化）*/
@media (max-width: 640px) {
  section.bg-white[class*="shadow"] {
    padding: 1rem;
  }
  
  section > h3 {
    font-size: var(--fs-lg);
  }
  
  section[class*="gradient-ask"] button[class*="rounded-"] {
    font-size: var(--fs-xs);
    padding: 0.25rem 0.5rem;
  }
}

/* 微動畫增強 */
section article[class*="border-2"] {
  animation: fadeIn 0.4s ease-out;
}

/* 懸停陰影增強（全域）*/
section[class*="hover:shadow"] {
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

/* === append: legacy theme supplements (safe, no markup change) === */
:root{
  /* 若專案已有同名變數，以下值僅作為後備值 */
  --shadow-neu-raised: var(--shadow-neu-raised, 0 8px 20px rgba(23,73,215,.12));
  --shadow-neu-inset-subtle: var(--shadow-neu-inset-subtle, inset 0 1px 0 rgba(230,237,247,.9), 0 2px 8px rgba(10,34,70,.06));
  --gradient-ask: var(--gradient-ask, linear-gradient(135deg,#eaf2ff,#dceaff));
  --gradient-button: var(--gradient-button, linear-gradient(135deg,#7a5cff,#2e59ff));
  --neutral-100: var(--neutral-100, #ffffff);
  --r-md: var(--r-md, 12px);
  --fs-lg: var(--fs-lg, 1.125rem);
  --fs-xs: var(--fs-xs, .75rem);
  --old-brand: var(--old-brand, #1749D7);
  --old-accent: var(--old-accent, #4aa1ff);
  --old-muted: var(--old-muted, #6c7b91);
  --old-line: var(--old-line, #e6edf7);
  --old-soft: var(--old-soft, #f7f9fe);
  --old-ink-dark: var(--old-ink-dark, #0f1a39);
  --old-ink-mid: var(--old-ink-mid, #243355);
}

/* 卡片：避免 Tailwind 全域覆蓋，使用精確 selector（只在 bg-white+shadow+rounded 的 section 生效） */
section.bg-white[class*="shadow"][class*="rounded"]{
  background:#fff;
  border:1px solid var(--old-line);
  transition:all .3s ease;
}
section.bg-white[class*="shadow"][class*="rounded"]:hover{
  box-shadow:var(--shadow-neu-raised);
}

/* 標題列：僅限 section 直屬標題與其說明文字 */
section>h3{
  color:var(--old-brand);
  font-weight:900;
  letter-spacing:-.01em;
}
section>h3 + p{
  color:var(--old-muted);
  line-height:1.52;
}

/* SmartAsk（AI 卡）：背景漸層與快速輸入膠囊 */
section[class*="gradient-ask"]{
  background:var(--gradient-ask);
  border:1px solid var(--old-line);
}
section[class*="gradient-ask"] button[class*="rounded-"]{
  background:#fff;
  border:1.5px solid var(--old-line);
  font-weight:700;
  transition:all .2s ease;
}
section[class*="gradient-ask"] button[class*="rounded-"]:hover{
  border-color:var(--old-brand);
  transform:translateY(-2px);
  box-shadow:0 4px 12px rgba(23,73,215,.15);
}
section[class*="gradient-ask"] div[class*="bg-white"][class*="rounded"]{
  border:1px solid var(--old-line);
  box-shadow:var(--shadow-neu-inset-subtle);
}
section[class*="gradient-ask"] div[class*="gradient-button"]{
  background:var(--gradient-button);
  box-shadow:0 2px 8px rgba(23,73,215,.2);
}
section[class*="gradient-ask"] div[class*="neutral-100"]{
  background:var(--neutral-100);
  border:1px solid var(--old-line);
}

/* 房源卡片（PropertyGrid）：邊框與 hover 效果 */
section article[class*="border-2"]{
  border-color:var(--old-line);
  transition:all .25s cubic-bezier(.4,0,.2,1);
  animation:fadeIn .4s ease-out;
}
section article[class*="border-2"]:hover{
  border-color:var(--old-brand);
  box-shadow:0 8px 20px rgba(23,73,215,.12);
  transform:translateY(-4px);
}
section article>div[class*="bg-cover"]{
  border-radius:var(--r-md);
  overflow:hidden;
}
section article div[class*="text-"][class*="brand"]{
  color:var(--old-brand);
  font-weight:900;
}
section article span[class*="gradient-badge"]{
  background:var(--gradient-badge, linear-gradient(135deg,#eef3ff,#dceaff));
  font-weight:700;
  font-size:10px;
  box-shadow:var(--shadow-neu-badge, 0 2px 8px rgba(10,34,70,.08));
}

/* 評分星（CommunityTeaser 等） */
section article span[class*="★"]{ color:var(--old-brand); font-weight:900; }

/* RWD：手機微調 */
@media (max-width:640px){
  section.bg-white[class*="shadow"]{ padding:1rem; }
  section>h3{ font-size:var(--fs-lg); }
  section[class*="gradient-ask"] button[class*="rounded-"]{
    font-size:var(--fs-xs); padding:.25rem .5rem;
  }
}

@keyframes fadeIn{
  from{ opacity:0; transform:translateY(6px); }
  to{ opacity:1; transform:translateY(0); }
}
